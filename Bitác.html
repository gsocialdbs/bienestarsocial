
<!-- saved from url=(0039)https://nerd-lat-bitc-9773.netlify.app/ -->
<html lang="es"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
          
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Bitác</title>
          
          <!-- Meta tags para redes sociales -->
          <meta property="og:image" content="https://4tsix0yujj.ufs.sh/f/2vMRHqOYUHc0K5prXUEjR7oilQcqGuVyEA8Sm1pf4v95nLIB">
          <meta property="og:image:alt" content="Imagen del proyecto">
          <meta name="twitter:card" content="summary_large_image">
          <meta name="twitter:image" content="https://4tsix0yujj.ufs.sh/f/2vMRHqOYUHc0K5prXUEjR7oilQcqGuVyEA8Sm1pf4v95nLIB">

          <!-- TailwindCSS CDN -->
          <script src="./Bitác_files/saved_resource"></script>

          <!-- React & Babel -->
          <script src="./Bitác_files/react.development.js.descarga" crossorigin=""></script>
          <script src="./Bitác_files/react-dom.development.js.descarga" crossorigin=""></script>
          <script src="./Bitác_files/babel.min.js.descarga"></script>
        <style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.16 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.mx-auto{margin-left:auto;margin-right:auto}.mb-3{margin-bottom:0.75rem}.mr-3{margin-right:0.75rem}.flex{display:flex}.grid{display:grid}.h-10{height:2.5rem}.max-h-96{max-height:24rem}.min-h-screen{min-height:100vh}.w-10{width:2.5rem}.w-full{width:100%}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-6{gap:1.5rem}.space-x-2 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.5rem * var(--tw-space-x-reverse));margin-left:calc(0.5rem * calc(1 - var(--tw-space-x-reverse)))}.divide-y > :not([hidden]) ~ :not([hidden]){--tw-divide-y-reverse:0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-blue-600{--tw-border-opacity:1;border-color:rgb(37 99 235 / var(--tw-border-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-blue-700{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.p-2{padding:0.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.text-center{text-align:center}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.leading-tight{line-height:1.25}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-700{--tw-text-opacity:1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.opacity-90{opacity:0.9}.shadow-md{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.hover\:bg-gray-300:hover{--tw-bg-opacity:1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.hover\:text-gray-700:hover{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-blue-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(59 130 246 / var(--tw-ring-opacity, 1))}@media (min-width: 1024px){.lg\:col-span-1{grid-column:span 1 / span 1}.lg\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}}</style><script>"use strict";

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
var _React = React,
  useState = _React.useState,
  useEffect = _React.useEffect,
  useRef = _React.useRef,
  useMemo = _React.useMemo,
  createContext = _React.createContext,
  useContext = _React.useContext,
  StrictMode = _React.StrictMode;
var _ReactDOM = ReactDOM,
  createRoot = _ReactDOM.createRoot;

// /components/PhotoUpload.js
var PhotoUpload = function PhotoUpload(_ref) {
  var onUpload = _ref.onUpload;
  var _useState = useState([]),
    _useState2 = _slicedToArray(_useState, 2),
    photos = _useState2[0],
    setPhotos = _useState2[1];
  var handleFileChange = function handleFileChange(e) {
    var files = Array.from(e.target.files);
    setPhotos(files);
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "mt-4"
  }, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-1"
  }, "Fotograf\xEDas"), /*#__PURE__*/React.createElement("input", {
    type: "file",
    multiple: true,
    onChange: handleFileChange,
    className: "block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"
  }), /*#__PURE__*/React.createElement("button", {
    className: "mt-2 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition",
    onClick: function onClick() {
      return onUpload(photos);
    }
  }, "Subir Fotos"));
};

// /components/Navigation.js
var Navigation = function Navigation(_ref2) {
  var activeTab = _ref2.activeTab,
    setActiveTab = _ref2.setActiveTab;
  var tabs = [{
    id: 'list',
    label: 'Lista de Pacientes'
  }, {
    id: 'new',
    label: 'Nuevo Paciente'
  }, {
    id: 'reports',
    label: 'Reportes'
  }];
  return /*#__PURE__*/React.createElement("div", {
    className: "bg-white shadow-sm"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex border-b"
  }, tabs.map(function (tab) {
    return /*#__PURE__*/React.createElement("button", {
      key: tab.id,
      className: "px-4 py-3 font-medium text-sm ".concat(activeTab === tab.id ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-500 hover:text-gray-700'),
      onClick: function onClick() {
        return setActiveTab(tab.id);
      }
    }, tab.label);
  })));
};

// /components/ReportsPanel.js
var ReportsPanel = function ReportsPanel(_ref3) {
  var patients = _ref3.patients;
  var internalPatients = patients.filter(function (p) {
    return !p.medicalInfo.dischargeDate;
  });
  var dischargedPatients = patients.filter(function (p) {
    return p.medicalInfo.dischargeDate;
  });
  var handlePrint = function handlePrint() {
    window.print();
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "bg-white p-4 rounded-lg shadow"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-lg font-semibold mb-4"
  }, "Reportes"), /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-3 gap-4 mb-6"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-blue-50 p-3 rounded"
  }, /*#__PURE__*/React.createElement("p", {
    className: "text-sm text-blue-600"
  }, "Total Pacientes"), /*#__PURE__*/React.createElement("p", {
    className: "text-2xl font-bold"
  }, patients.length)), /*#__PURE__*/React.createElement("div", {
    className: "bg-green-50 p-3 rounded"
  }, /*#__PURE__*/React.createElement("p", {
    className: "text-sm text-green-600"
  }, "Altas M\xE9dicas"), /*#__PURE__*/React.createElement("p", {
    className: "text-2xl font-bold"
  }, dischargedPatients.length)), /*#__PURE__*/React.createElement("div", {
    className: "bg-yellow-50 p-3 rounded"
  }, /*#__PURE__*/React.createElement("p", {
    className: "text-sm text-yellow-600"
  }, "Pacientes Internos"), /*#__PURE__*/React.createElement("p", {
    className: "text-2xl font-bold"
  }, internalPatients.length))), /*#__PURE__*/React.createElement("div", {
    className: "mb-6"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-semibold text-lg mb-3"
  }, "Pacientes Internos"), internalPatients.length > 0 ? /*#__PURE__*/React.createElement("ul", {
    className: "list-disc pl-5 space-y-1"
  }, internalPatients.map(function (patient) {
    return /*#__PURE__*/React.createElement("li", {
      key: patient.id,
      className: "text-gray-700"
    }, patient.generalInfo.name, " - ", patient.medicalInfo.diagnosis, " (Ingreso: ", patient.medicalInfo.admissionDate, ")");
  })) : /*#__PURE__*/React.createElement("p", {
    className: "text-gray-500"
  }, "No hay pacientes internos actualmente.")), /*#__PURE__*/React.createElement("div", {
    className: "mb-6"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-semibold text-lg mb-3"
  }, "Pacientes con Alta M\xE9dica"), dischargedPatients.length > 0 ? /*#__PURE__*/React.createElement("ul", {
    className: "list-disc pl-5 space-y-1"
  }, dischargedPatients.map(function (patient) {
    return /*#__PURE__*/React.createElement("li", {
      key: patient.id,
      className: "text-gray-700"
    }, patient.generalInfo.name, " - ", patient.medicalInfo.diagnosis, " (Alta: ", patient.medicalInfo.dischargeDate || 'N/A', ")");
  })) : /*#__PURE__*/React.createElement("p", {
    className: "text-gray-500"
  }, "No hay pacientes con alta m\xE9dica registrada.")), /*#__PURE__*/React.createElement("button", {
    className: "mt-4 bg-gray-800 text-white py-2 px-4 rounded hover:bg-gray-900 transition",
    onClick: handlePrint
  }, "Imprimir Reporte"));
};

// /components/PatientList.js
var PatientList = function PatientList(_ref4) {
  var patients = _ref4.patients,
    onSelect = _ref4.onSelect;
  var _useState3 = useState(''),
    _useState4 = _slicedToArray(_useState3, 2),
    searchTerm = _useState4[0],
    setSearchTerm = _useState4[1];
  var _useState5 = useState('all'),
    _useState6 = _slicedToArray(_useState5, 2),
    filterStatus = _useState6[0],
    setFilterStatus = _useState6[1]; // 'all', 'internal', 'discharged'

  var filteredPatients = patients.filter(function (patient) {
    var matchesSearch = patient.generalInfo.name.toLowerCase().includes(searchTerm.toLowerCase()) || patient.generalInfo.dni.toLowerCase().includes(searchTerm.toLowerCase()) || patient.medicalInfo.diagnosis.toLowerCase().includes(searchTerm.toLowerCase());
    var matchesStatus = filterStatus === 'all' || filterStatus === 'internal' && !patient.medicalInfo.dischargeDate || filterStatus === 'discharged' && patient.medicalInfo.dischargeDate;
    return matchesSearch && matchesStatus;
  });
  return /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-lg shadow-md overflow-hidden"
  }, /*#__PURE__*/React.createElement("div", {
    className: "p-4 bg-gray-100 border-b"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-lg font-semibold mb-3"
  }, "Listado de Pacientes"), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "Buscar por nombre, DNI o diagn\xF3stico...",
    className: "w-full p-2 border rounded-lg mb-3 focus:ring-2 focus:ring-blue-500",
    value: searchTerm,
    onChange: function onChange(e) {
      return setSearchTerm(e.target.value);
    }
  }), /*#__PURE__*/React.createElement("div", {
    className: "flex space-x-2"
  }, /*#__PURE__*/React.createElement("button", {
    className: "px-4 py-2 rounded-lg text-sm font-medium ".concat(filterStatus === 'all' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'),
    onClick: function onClick() {
      return setFilterStatus('all');
    }
  }, "Todos"), /*#__PURE__*/React.createElement("button", {
    className: "px-4 py-2 rounded-lg text-sm font-medium ".concat(filterStatus === 'internal' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'),
    onClick: function onClick() {
      return setFilterStatus('internal');
    }
  }, "Internos"), /*#__PURE__*/React.createElement("button", {
    className: "px-4 py-2 rounded-lg text-sm font-medium ".concat(filterStatus === 'discharged' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'),
    onClick: function onClick() {
      return setFilterStatus('discharged');
    }
  }, "Dados de Alta"))), /*#__PURE__*/React.createElement("div", {
    className: "divide-y max-h-96 overflow-y-auto"
  }, filteredPatients.length > 0 ? filteredPatients.map(function (patient) {
    return /*#__PURE__*/React.createElement("div", {
      key: patient.id,
      className: "p-4 hover:bg-gray-50 cursor-pointer",
      onClick: function onClick() {
        return onSelect(patient);
      }
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex justify-between items-center"
    }, /*#__PURE__*/React.createElement("h3", {
      className: "font-medium text-gray-800"
    }, patient.generalInfo.name), /*#__PURE__*/React.createElement("span", {
      className: "text-sm text-gray-500"
    }, patient.generalInfo.dni)), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-gray-600"
    }, patient.medicalInfo.diagnosis), /*#__PURE__*/React.createElement("span", {
      className: "text-xs font-semibold px-2 py-0.5 rounded-full ".concat(patient.medicalInfo.dischargeDate ? 'bg-green-100 text-green-800' : 'bg-blue-100 text-blue-800')
    }, patient.medicalInfo.dischargeDate ? 'Alta' : 'Interno'));
  }) : /*#__PURE__*/React.createElement("p", {
    className: "p-4 text-center text-gray-500"
  }, "No se encontraron pacientes.")));
};

// /components/VisitForm.js
var VisitForm = function VisitForm(_ref5) {
  var patientId = _ref5.patientId,
    onSave = _ref5.onSave,
    lastVisitNumber = _ref5.lastVisitNumber;
  var _useState7 = useState({
      visitorName: '',
      visitorRank: '',
      visitorAddress: '',
      companions: [''],
      date: new Date().toISOString().split('T')[0],
      notes: '',
      actionsTaken: '',
      // Nuevo campo: Gestiones Realizadas
      actionsPending: '',
      // Nuevo campo: Gestiones Pendientes
      photos: [],
      visitNumber: lastVisitNumber + 1
    }),
    _useState8 = _slicedToArray(_useState7, 2),
    visit = _useState8[0],
    setVisit = _useState8[1];
  var handleChange = function handleChange(field, value) {
    setVisit(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, field, value));
    });
  };
  var handleCompanionChange = function handleCompanionChange(index, value) {
    var newCompanions = _toConsumableArray(visit.companions);
    newCompanions[index] = value;
    setVisit(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, {
        companions: newCompanions
      });
    });
  };
  var addCompanion = function addCompanion() {
    setVisit(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, {
        companions: [].concat(_toConsumableArray(prev.companions), [''])
      });
    });
  };
  var handlePhotoUpload = function handlePhotoUpload(uploadedPhotos) {
    setVisit(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, {
        photos: [].concat(_toConsumableArray(prev.photos), _toConsumableArray(uploadedPhotos))
      });
    });
  };
  var handleSubmit = function handleSubmit() {
    onSave(visit);
    setVisit({
      visitorName: '',
      visitorRank: '',
      visitorAddress: '',
      companions: [''],
      date: new Date().toISOString().split('T')[0],
      notes: '',
      actionsTaken: '',
      actionsPending: '',
      photos: [],
      visitNumber: lastVisitNumber + 2
    });
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "bg-gray-50 p-4 rounded-lg shadow-inner mt-6"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-semibold text-xl mb-4 text-gray-700"
  }, "Registrar Nueva Visita"), /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-1 md:grid-cols-2 gap-4"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700"
  }, "Nombre del Visitante"), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "Nombre",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: visit.visitorName,
    onChange: function onChange(e) {
      return handleChange('visitorName', e.target.value);
    }
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700"
  }, "Grado del Visitante"), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "Grado",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: visit.visitorRank,
    onChange: function onChange(e) {
      return handleChange('visitorRank', e.target.value);
    }
  })), /*#__PURE__*/React.createElement("div", {
    className: "md:col-span-2"
  }, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700"
  }, "Direcci\xF3n del Visitante"), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "Direcci\xF3n",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: visit.visitorAddress,
    onChange: function onChange(e) {
      return handleChange('visitorAddress', e.target.value);
    }
  })), /*#__PURE__*/React.createElement("div", {
    className: "md:col-span-2"
  }, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700"
  }, "Acompa\xF1antes"), visit.companions.map(function (companion, index) {
    return /*#__PURE__*/React.createElement("input", {
      key: index,
      type: "text",
      placeholder: "Acompa\xF1ante ".concat(index + 1),
      className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 mb-2",
      value: companion,
      onChange: function onChange(e) {
        return handleCompanionChange(index, e.target.value);
      }
    });
  }), /*#__PURE__*/React.createElement("button", {
    type: "button",
    onClick: addCompanion,
    className: "bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition text-sm"
  }, "Agregar Acompa\xF1ante")), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700"
  }, "Fecha de la Visita"), /*#__PURE__*/React.createElement("input", {
    type: "date",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: visit.date,
    onChange: function onChange(e) {
      return handleChange('date', e.target.value);
    }
  })), /*#__PURE__*/React.createElement("div", {
    className: "md:col-span-2"
  }, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700"
  }, "Notas de la Visita"), /*#__PURE__*/React.createElement("textarea", {
    placeholder: "Notas de la visita",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 resize-none",
    rows: "3",
    value: visit.notes,
    onChange: function onChange(e) {
      return handleChange('notes', e.target.value);
    }
  })), /*#__PURE__*/React.createElement("div", {
    className: "md:col-span-2"
  }, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700"
  }, "Gestiones Realizadas"), /*#__PURE__*/React.createElement("textarea", {
    placeholder: "Gestiones realizadas durante la visita",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 resize-none",
    rows: "3",
    value: visit.actionsTaken,
    onChange: function onChange(e) {
      return handleChange('actionsTaken', e.target.value);
    }
  })), /*#__PURE__*/React.createElement("div", {
    className: "md:col-span-2"
  }, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700"
  }, "Gestiones Pendientes"), /*#__PURE__*/React.createElement("textarea", {
    placeholder: "Gestiones pendientes para la mejora del paciente",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 resize-none",
    rows: "3",
    value: visit.actionsPending,
    onChange: function onChange(e) {
      return handleChange('actionsPending', e.target.value);
    }
  }))), /*#__PURE__*/React.createElement(PhotoUpload, {
    onUpload: handlePhotoUpload
  }), /*#__PURE__*/React.createElement("button", {
    className: "w-full mt-6 bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition text-lg font-semibold",
    onClick: handleSubmit
  }, "Registrar Visita #", visit.visitNumber));
};

// /mock/patients.js
var patients = [{
  id: 1,
  generalInfo: {
    name: "Juan Pérez",
    dni: "12345678",
    rank: "Sargento",
    age: 35,
    gender: "Masculino",
    address: "Av. Principal 123",
    assignment: "Cardiología",
    assignmentLocation: "Hospital Central",
    residence: "Colonia del Valle",
    phone: "987654321"
  },
  medicalInfo: {
    diagnosis: "Hipertensión arterial",
    admissionDate: "2023-05-15",
    hospitalName: "Hospital General del Sur",
    // Nuevo campo
    reason: "Enfermedad natural",
    accidentDetails: "",
    transferredBy: "Familiares",
    dischargeDate: "",
    // Nuevo campo
    recoveryTime: "",
    // Nuevo campo
    recommendations: "" // Nuevo campo
  },
  familyInfo: [{
    name: "María Pérez",
    relationship: "Esposa",
    phone: "987123456"
  }],
  visits: [{
    id: 1,
    visitorName: "Dra. Ana López",
    visitorRank: "Médico residente",
    visitorAddress: "Clínica San Juan",
    companions: ["Enfermero Carlos"],
    date: "2023-05-16",
    notes: "Paciente estable, continuar tratamiento",
    actionsTaken: "Revisión de signos vitales, ajuste de medicación.",
    // Nuevo campo
    actionsPending: "Esperar resultados de laboratorio, programar consulta con especialista.",
    // Nuevo campo
    photos: [],
    visitNumber: 1
  }]
}];

// /utils/storage.js
var savePatients = function savePatients(patients) {
  localStorage.setItem('patients', JSON.stringify(patients));
};
var getPatients = function getPatients() {
  return JSON.parse(localStorage.getItem('patients')) || [];
};
var addPatient = function addPatient(newPatient) {
  var patients = getPatients();
  var updatedPatients = [].concat(_toConsumableArray(patients), [_objectSpread(_objectSpread({}, newPatient), {}, {
    id: Date.now()
  })]);
  savePatients(updatedPatients);
  return updatedPatients;
};
var updatePatient = function updatePatient(updatedPatient) {
  var patients = getPatients();
  var updatedPatients = patients.map(function (p) {
    return p.id === updatedPatient.id ? updatedPatient : p;
  });
  savePatients(updatedPatients);
  return updatedPatients;
};
var deletePatient = function deletePatient(patientId) {
  var patients = getPatients();
  var updatedPatients = patients.filter(function (p) {
    return p.id !== patientId;
  });
  savePatients(updatedPatients);
  return updatedPatients;
};
// DONE

// /components/PatientForm.js
var PatientForm = function PatientForm(_ref6) {
  var onSave = _ref6.onSave;
  var _useState9 = useState({
      generalInfo: {
        name: '',
        dni: '',
        rank: '',
        age: '',
        gender: '',
        address: '',
        assignment: '',
        assignmentLocation: '',
        residence: '',
        phone: ''
      },
      medicalInfo: {
        diagnosis: '',
        admissionDate: '',
        hospitalName: '',
        reason: '',
        accidentDetails: '',
        transferredBy: '',
        // Campos de alta no se inicializan aquí, se llenarán al dar de alta
        dischargeDate: '',
        recoveryTime: '',
        recommendations: ''
      },
      familyInfo: [{
        name: '',
        relationship: '',
        phone: ''
      }],
      visits: []
    }),
    _useState0 = _slicedToArray(_useState9, 2),
    patient = _useState0[0],
    setPatient = _useState0[1];
  var handleChange = function handleChange(section, field, value) {
    setPatient(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, section, _objectSpread(_objectSpread({}, prev[section]), {}, _defineProperty({}, field, value))));
    });
  };
  var handleFamilyChange = function handleFamilyChange(index, field, value) {
    var newFamilyInfo = _toConsumableArray(patient.familyInfo);
    newFamilyInfo[index][field] = value;
    setPatient(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, {
        familyInfo: newFamilyInfo
      });
    });
  };
  var addFamilyMember = function addFamilyMember() {
    setPatient(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, {
        familyInfo: [].concat(_toConsumableArray(prev.familyInfo), [{
          name: '',
          relationship: '',
          phone: ''
        }])
      });
    });
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "bg-white p-6 rounded-lg shadow-md"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-xl font-bold mb-4"
  }, "Datos del Paciente"), /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-1 md:grid-cols-2 gap-6"
  }, /*#__PURE__*/React.createElement("div", {
    className: "space-y-4"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-semibold text-lg border-b pb-2 mb-3"
  }, "Informaci\xF3n General"), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "Nombre completo",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: patient.generalInfo.name,
    onChange: function onChange(e) {
      return handleChange('generalInfo', 'name', e.target.value);
    }
  }), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "DNI",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: patient.generalInfo.dni,
    onChange: function onChange(e) {
      return handleChange('generalInfo', 'dni', e.target.value);
    }
  }), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "Grado",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: patient.generalInfo.rank,
    onChange: function onChange(e) {
      return handleChange('generalInfo', 'rank', e.target.value);
    }
  }), /*#__PURE__*/React.createElement("input", {
    type: "number",
    placeholder: "Edad",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: patient.generalInfo.age,
    onChange: function onChange(e) {
      return handleChange('generalInfo', 'age', e.target.value);
    }
  }), /*#__PURE__*/React.createElement("select", {
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: patient.generalInfo.gender,
    onChange: function onChange(e) {
      return handleChange('generalInfo', 'gender', e.target.value);
    }
  }, /*#__PURE__*/React.createElement("option", {
    value: ""
  }, "Seleccionar Sexo"), /*#__PURE__*/React.createElement("option", {
    value: "Masculino"
  }, "Masculino"), /*#__PURE__*/React.createElement("option", {
    value: "Femenino"
  }, "Femenino"), /*#__PURE__*/React.createElement("option", {
    value: "Otro"
  }, "Otro")), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "Direcci\xF3n a la que pertenece",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: patient.generalInfo.address,
    onChange: function onChange(e) {
      return handleChange('generalInfo', 'address', e.target.value);
    }
  }), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "Asignaci\xF3n",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: patient.generalInfo.assignment,
    onChange: function onChange(e) {
      return handleChange('generalInfo', 'assignment', e.target.value);
    }
  }), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "Lugar de Asignaci\xF3n",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: patient.generalInfo.assignmentLocation,
    onChange: function onChange(e) {
      return handleChange('generalInfo', 'assignmentLocation', e.target.value);
    }
  }), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "Donde vive",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: patient.generalInfo.residence,
    onChange: function onChange(e) {
      return handleChange('generalInfo', 'residence', e.target.value);
    }
  }), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "Celular",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: patient.generalInfo.phone,
    onChange: function onChange(e) {
      return handleChange('generalInfo', 'phone', e.target.value);
    }
  })), /*#__PURE__*/React.createElement("div", {
    className: "space-y-4"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-semibold text-lg border-b pb-2 mb-3"
  }, "Informaci\xF3n M\xE9dica"), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "Diagn\xF3stico",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: patient.medicalInfo.diagnosis,
    onChange: function onChange(e) {
      return handleChange('medicalInfo', 'diagnosis', e.target.value);
    }
  }), /*#__PURE__*/React.createElement("input", {
    type: "date",
    placeholder: "Fecha de Ingreso al Hospital",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: patient.medicalInfo.admissionDate,
    onChange: function onChange(e) {
      return handleChange('medicalInfo', 'admissionDate', e.target.value);
    }
  }), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "Nombre del Hospital",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: patient.medicalInfo.hospitalName,
    onChange: function onChange(e) {
      return handleChange('medicalInfo', 'hospitalName', e.target.value);
    }
  }), /*#__PURE__*/React.createElement("select", {
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: patient.medicalInfo.reason,
    onChange: function onChange(e) {
      return handleChange('medicalInfo', 'reason', e.target.value);
    }
  }, /*#__PURE__*/React.createElement("option", {
    value: ""
  }, "Motivo de Ingreso"), /*#__PURE__*/React.createElement("option", {
    value: "Enfermedad natural"
  }, "Enfermedad natural"), /*#__PURE__*/React.createElement("option", {
    value: "Accidente de tr\xE1nsito"
  }, "Accidente de tr\xE1nsito"), /*#__PURE__*/React.createElement("option", {
    value: "Otro incidente"
  }, "Otro incidente")), patient.medicalInfo.reason === 'Accidente de tránsito' || patient.medicalInfo.reason === 'Otro incidente' ? /*#__PURE__*/React.createElement("textarea", {
    placeholder: "C\xF3mo fue el accidente o incidente",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 resize-none",
    rows: "3",
    value: patient.medicalInfo.accidentDetails,
    onChange: function onChange(e) {
      return handleChange('medicalInfo', 'accidentDetails', e.target.value);
    }
  }) : null, /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "Qui\xE9n lo traslad\xF3 al centro asistencial",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: patient.medicalInfo.transferredBy,
    onChange: function onChange(e) {
      return handleChange('medicalInfo', 'transferredBy', e.target.value);
    }
  }), /*#__PURE__*/React.createElement("h3", {
    className: "font-semibold text-lg border-b pb-2 mb-3 mt-6"
  }, "Informaci\xF3n Familiar"), patient.familyInfo.map(function (member, index) {
    return /*#__PURE__*/React.createElement("div", {
      key: index,
      className: "flex space-x-2 mb-2"
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      placeholder: "Nombre Familiar",
      className: "w-1/3 p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
      value: member.name,
      onChange: function onChange(e) {
        return handleFamilyChange(index, 'name', e.target.value);
      }
    }), /*#__PURE__*/React.createElement("input", {
      type: "text",
      placeholder: "Parentesco",
      className: "w-1/3 p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
      value: member.relationship,
      onChange: function onChange(e) {
        return handleFamilyChange(index, 'relationship', e.target.value);
      }
    }), /*#__PURE__*/React.createElement("input", {
      type: "text",
      placeholder: "Celular Familiar",
      className: "w-1/3 p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
      value: member.phone,
      onChange: function onChange(e) {
        return handleFamilyChange(index, 'phone', e.target.value);
      }
    }));
  }), /*#__PURE__*/React.createElement("button", {
    type: "button",
    onClick: addFamilyMember,
    className: "bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition"
  }, "Agregar Familiar"))), /*#__PURE__*/React.createElement("button", {
    className: "w-full mt-6 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition text-lg font-semibold",
    onClick: function onClick() {
      return onSave(patient);
    }
  }, "Guardar Paciente"));
};

// /components/PatientDetail.js
var PatientDetail = function PatientDetail(_ref7) {
  var patient = _ref7.patient,
    onUpdate = _ref7.onUpdate,
    onAddVisit = _ref7.onAddVisit;
  var _useState1 = useState(false),
    _useState10 = _slicedToArray(_useState1, 2),
    isEditingDischarge = _useState10[0],
    setIsEditingDischarge = _useState10[1];
  var _useState11 = useState({
      dischargeDate: patient.medicalInfo.dischargeDate || '',
      recoveryTime: patient.medicalInfo.recoveryTime || '',
      recommendations: patient.medicalInfo.recommendations || ''
    }),
    _useState12 = _slicedToArray(_useState11, 2),
    dischargeInfo = _useState12[0],
    setDischargeInfo = _useState12[1];
  var handleDischargeChange = function handleDischargeChange(field, value) {
    setDischargeInfo(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, field, value));
    });
  };
  var handleSaveDischarge = function handleSaveDischarge() {
    onUpdate(_objectSpread(_objectSpread({}, patient), {}, {
      medicalInfo: _objectSpread(_objectSpread({}, patient.medicalInfo), dischargeInfo)
    }));
    setIsEditingDischarge(false);
  };
  if (!patient) return /*#__PURE__*/React.createElement("div", {
    className: "p-4 text-center text-gray-600"
  }, "Seleccione un paciente para ver sus detalles.");
  return /*#__PURE__*/React.createElement("div", {
    className: "bg-white p-6 rounded-lg shadow-md"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-start border-b pb-4 mb-4"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h2", {
    className: "text-2xl font-bold text-gray-800"
  }, patient.generalInfo.name), /*#__PURE__*/React.createElement("p", {
    className: "text-gray-600"
  }, "DNI: ", patient.generalInfo.dni, " | Grado: ", patient.generalInfo.rank)), /*#__PURE__*/React.createElement("span", {
    className: "px-4 py-1 rounded-full text-sm font-semibold ".concat(patient.medicalInfo.dischargeDate ? 'bg-green-100 text-green-800' : 'bg-blue-100 text-blue-800')
  }, patient.medicalInfo.dischargeDate ? 'Alta médica' : 'En tratamiento')), /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h3", {
    className: "font-semibold text-xl mb-3 text-gray-700"
  }, "Informaci\xF3n General"), /*#__PURE__*/React.createElement("div", {
    className: "space-y-2 text-gray-700"
  }, /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("span", {
    className: "font-medium"
  }, "Edad:"), " ", patient.generalInfo.age), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("span", {
    className: "font-medium"
  }, "Sexo:"), " ", patient.generalInfo.gender), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("span", {
    className: "font-medium"
  }, "Direcci\xF3n:"), " ", patient.generalInfo.address), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("span", {
    className: "font-medium"
  }, "Asignaci\xF3n:"), " ", patient.generalInfo.assignment, " (", patient.generalInfo.assignmentLocation, ")"), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("span", {
    className: "font-medium"
  }, "Residencia:"), " ", patient.generalInfo.residence), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("span", {
    className: "font-medium"
  }, "Celular:"), " ", patient.generalInfo.phone))), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h3", {
    className: "font-semibold text-xl mb-3 text-gray-700"
  }, "Informaci\xF3n M\xE9dica"), /*#__PURE__*/React.createElement("div", {
    className: "space-y-2 text-gray-700"
  }, /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("span", {
    className: "font-medium"
  }, "Diagn\xF3stico:"), " ", patient.medicalInfo.diagnosis), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("span", {
    className: "font-medium"
  }, "Fecha Ingreso:"), " ", patient.medicalInfo.admissionDate), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("span", {
    className: "font-medium"
  }, "Hospital:"), " ", patient.medicalInfo.hospitalName), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("span", {
    className: "font-medium"
  }, "Motivo:"), " ", patient.medicalInfo.reason), patient.medicalInfo.accidentDetails && /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("span", {
    className: "font-medium"
  }, "Detalles Incidente:"), " ", patient.medicalInfo.accidentDetails), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("span", {
    className: "font-medium"
  }, "Traslado por:"), " ", patient.medicalInfo.transferredBy)))), /*#__PURE__*/React.createElement("div", {
    className: "mb-6 border-t pt-6"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-semibold text-xl mb-3 text-gray-700"
  }, "Informaci\xF3n de Alta"), !isEditingDischarge ? /*#__PURE__*/React.createElement("div", {
    className: "space-y-2 text-gray-700"
  }, /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("span", {
    className: "font-medium"
  }, "Fecha de Salida:"), " ", patient.medicalInfo.dischargeDate || 'N/A'), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("span", {
    className: "font-medium"
  }, "Reposo/Incapacidad:"), " ", patient.medicalInfo.recoveryTime || 'N/A'), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("span", {
    className: "font-medium"
  }, "Recomendaciones:"), " ", patient.medicalInfo.recommendations || 'N/A'), /*#__PURE__*/React.createElement("button", {
    className: "mt-2 bg-blue-500 text-white py-1.5 px-3 rounded hover:bg-blue-600 transition text-sm",
    onClick: function onClick() {
      return setIsEditingDischarge(true);
    }
  }, patient.medicalInfo.dischargeDate ? 'Editar Alta' : 'Registrar Alta')) : /*#__PURE__*/React.createElement("div", {
    className: "space-y-3"
  }, /*#__PURE__*/React.createElement("input", {
    type: "date",
    placeholder: "Fecha de Salida (Alta)",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: dischargeInfo.dischargeDate,
    onChange: function onChange(e) {
      return handleDischargeChange('dischargeDate', e.target.value);
    }
  }), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "Reposo o Incapacidad",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",
    value: dischargeInfo.recoveryTime,
    onChange: function onChange(e) {
      return handleDischargeChange('recoveryTime', e.target.value);
    }
  }), /*#__PURE__*/React.createElement("textarea", {
    placeholder: "Recomendaciones",
    className: "w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 resize-none",
    rows: "3",
    value: dischargeInfo.recommendations,
    onChange: function onChange(e) {
      return handleDischargeChange('recommendations', e.target.value);
    }
  }), /*#__PURE__*/React.createElement("button", {
    className: "mt-2 bg-green-500 text-white py-1.5 px-3 rounded hover:bg-green-600 transition text-sm",
    onClick: handleSaveDischarge
  }, "Guardar Alta"), /*#__PURE__*/React.createElement("button", {
    className: "mt-2 ml-2 bg-gray-300 text-gray-800 py-1.5 px-3 rounded hover:bg-gray-400 transition text-sm",
    onClick: function onClick() {
      return setIsEditingDischarge(false);
    }
  }, "Cancelar"))), /*#__PURE__*/React.createElement("div", {
    className: "mb-6 border-t pt-6"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-semibold text-xl mb-3 text-gray-700"
  }, "Informaci\xF3n Familiar"), /*#__PURE__*/React.createElement("div", {
    className: "space-y-2 text-gray-700"
  }, patient.familyInfo.length > 0 ? patient.familyInfo.map(function (member, index) {
    return /*#__PURE__*/React.createElement("p", {
      key: index
    }, /*#__PURE__*/React.createElement("span", {
      className: "font-medium"
    }, member.name), " (", member.relationship, ") - ", member.phone);
  }) : /*#__PURE__*/React.createElement("p", {
    className: "text-gray-500"
  }, "No hay informaci\xF3n familiar registrada."))), /*#__PURE__*/React.createElement("div", {
    className: "mt-8 border-t pt-6"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-semibold text-xl mb-4 text-gray-700"
  }, "Visitas Registradas"), /*#__PURE__*/React.createElement("div", {
    className: "space-y-4"
  }, patient.visits.length > 0 ? patient.visits.map(function (visit, index) {
    return /*#__PURE__*/React.createElement("div", {
      key: index,
      className: "border-l-4 border-blue-500 pl-4 py-3 bg-blue-50 rounded-r-lg"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex justify-between items-center mb-1"
    }, /*#__PURE__*/React.createElement("h4", {
      className: "font-medium text-lg text-blue-800"
    }, "Visita #", visit.visitNumber, " - ", visit.visitorName), /*#__PURE__*/React.createElement("span", {
      className: "text-sm text-gray-600"
    }, visit.date)), /*#__PURE__*/React.createElement("p", {
      className: "text-gray-700 text-sm mb-1"
    }, "Grado: ", visit.visitorRank, " | Direcci\xF3n: ", visit.visitorAddress), visit.companions && visit.companions.length > 0 && /*#__PURE__*/React.createElement("p", {
      className: "text-gray-700 text-sm mb-1"
    }, "Acompa\xF1antes: ", visit.companions.join(', ')), /*#__PURE__*/React.createElement("p", {
      className: "text-gray-700 text-sm mb-1"
    }, /*#__PURE__*/React.createElement("span", {
      className: "font-medium"
    }, "Gestiones Realizadas:"), " ", visit.actionsTaken || 'N/A'), /*#__PURE__*/React.createElement("p", {
      className: "text-gray-700 text-sm mb-1"
    }, /*#__PURE__*/React.createElement("span", {
      className: "font-medium"
    }, "Gestiones Pendientes:"), " ", visit.actionsPending || 'N/A'), /*#__PURE__*/React.createElement("p", {
      className: "text-gray-700 text-sm"
    }, visit.notes), visit.photos && visit.photos.length > 0 && /*#__PURE__*/React.createElement("div", {
      className: "mt-2 flex space-x-2"
    }, visit.photos.map(function (photo, pIndex) {
      return /*#__PURE__*/React.createElement("img", {
        key: pIndex,
        src: URL.createObjectURL(photo),
        alt: "Visita ".concat(visit.visitNumber, " Foto ").concat(pIndex + 1),
        className: "w-20 h-20 object-cover rounded-md shadow"
      });
    })));
  }) : /*#__PURE__*/React.createElement("p", {
    className: "text-gray-500"
  }, "No hay visitas registradas para este paciente.")), /*#__PURE__*/React.createElement(VisitForm, {
    patientId: patient.id,
    onSave: function onSave(newVisit) {
      return onAddVisit(patient.id, newVisit);
    },
    lastVisitNumber: patient.visits.length > 0 ? patient.visits[patient.visits.length - 1].visitNumber : 0
  })));
};

// DONE

// /App.js
var App = function App() {
  var _useState13 = useState([]),
    _useState14 = _slicedToArray(_useState13, 2),
    patients = _useState14[0],
    setPatients = _useState14[1];
  var _useState15 = useState(null),
    _useState16 = _slicedToArray(_useState15, 2),
    selectedPatient = _useState16[0],
    setSelectedPatient = _useState16[1];
  var _useState17 = useState('list'),
    _useState18 = _slicedToArray(_useState17, 2),
    activeTab = _useState18[0],
    setActiveTab = _useState18[1];
  useEffect(function () {
    setPatients(getPatients());
  }, []);
  var handleSavePatient = function handleSavePatient(newPatient) {
    var updatedPatients = addPatient(newPatient);
    setPatients(updatedPatients);
    setActiveTab('list');
  };
  var handleUpdatePatient = function handleUpdatePatient(updatedPatient) {
    var updatedPatients = updatePatient(updatedPatient);
    setPatients(updatedPatients);
    setSelectedPatient(updatedPatient);
  };
  var handleAddVisit = function handleAddVisit(patientId, newVisit) {
    var patient = patients.find(function (p) {
      return p.id === patientId;
    });
    if (patient) {
      var updatedPatient = _objectSpread(_objectSpread({}, patient), {}, {
        visits: [].concat(_toConsumableArray(patient.visits), [_objectSpread(_objectSpread({}, newVisit), {}, {
          id: patient.visits.length + 1
        })]) // Asegura ID único para la visita
      });
      handleUpdatePatient(updatedPatient);
    }
  };
  var handleDeletePatient = function handleDeletePatient(patientId) {
    var updatedPatients = deletePatient(patientId);
    setPatients(updatedPatients);
    setSelectedPatient(null);
    setActiveTab('list');
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "min-h-screen bg-gray-50"
  }, /*#__PURE__*/React.createElement("header", {
    className: "bg-blue-700 text-white p-4 shadow-md flex items-center justify-between"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center"
  }, /*#__PURE__*/React.createElement("div", {
    className: "w-10 h-10 mr-3 bg-white rounded-full flex items-center justify-center"
  }, /*#__PURE__*/React.createElement("span", {
    className: "text-blue-700 font-bold text-lg"
  }, "BS")), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h1", {
    className: "text-2xl font-bold leading-tight"
  }, "Direcci\xF3n de Bienestar Social"), /*#__PURE__*/React.createElement("p", {
    className: "text-sm opacity-90"
  }, "Departamento de Seguridad Social")))), /*#__PURE__*/React.createElement(Navigation, {
    activeTab: activeTab,
    setActiveTab: setActiveTab
  }), /*#__PURE__*/React.createElement("main", {
    className: "container mx-auto p-4"
  }, activeTab === 'list' && /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-1 lg:grid-cols-3 gap-6"
  }, /*#__PURE__*/React.createElement("div", {
    className: "lg:col-span-1"
  }, /*#__PURE__*/React.createElement(PatientList, {
    patients: patients,
    onSelect: function onSelect(patient) {
      setSelectedPatient(patient);
      setActiveTab('detail');
    }
  })), selectedPatient && /*#__PURE__*/React.createElement("div", {
    className: "lg:col-span-2"
  }, /*#__PURE__*/React.createElement(PatientDetail, {
    patient: selectedPatient,
    onUpdate: handleUpdatePatient,
    onAddVisit: handleAddVisit
  }), /*#__PURE__*/React.createElement("button", {
    className: "mt-4 bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700 transition",
    onClick: function onClick() {
      return handleDeletePatient(selectedPatient.id);
    }
  }, "Eliminar Paciente"))), activeTab === 'new' && /*#__PURE__*/React.createElement("div", {
    className: "max-w-4xl mx-auto"
  }, /*#__PURE__*/React.createElement(PatientForm, {
    onSave: handleSavePatient
  })), activeTab === 'reports' && /*#__PURE__*/React.createElement("div", {
    className: "max-w-4xl mx-auto"
  }, /*#__PURE__*/React.createElement(ReportsPanel, {
    patients: patients
  }))));
};

// DONE

var root = createRoot(document.getElementById("root"));
root.render(/*#__PURE__*/React.createElement(StrictMode, null, /*#__PURE__*/React.createElement(App, null)));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfUmVhY3QiLCJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlTWVtbyIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwiU3RyaWN0TW9kZSIsIl9SZWFjdERPTSIsIlJlYWN0RE9NIiwiY3JlYXRlUm9vdCIsIlBob3RvVXBsb2FkIiwiX3JlZiIsIm9uVXBsb2FkIiwiX3VzZVN0YXRlIiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5IiwicGhvdG9zIiwic2V0UGhvdG9zIiwiaGFuZGxlRmlsZUNoYW5nZSIsImUiLCJmaWxlcyIsIkFycmF5IiwiZnJvbSIsInRhcmdldCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJ0eXBlIiwibXVsdGlwbGUiLCJvbkNoYW5nZSIsIm9uQ2xpY2siLCJOYXZpZ2F0aW9uIiwiX3JlZjIiLCJhY3RpdmVUYWIiLCJzZXRBY3RpdmVUYWIiLCJ0YWJzIiwiaWQiLCJsYWJlbCIsIm1hcCIsInRhYiIsImtleSIsImNvbmNhdCIsIlJlcG9ydHNQYW5lbCIsIl9yZWYzIiwicGF0aWVudHMiLCJpbnRlcm5hbFBhdGllbnRzIiwiZmlsdGVyIiwicCIsIm1lZGljYWxJbmZvIiwiZGlzY2hhcmdlRGF0ZSIsImRpc2NoYXJnZWRQYXRpZW50cyIsImhhbmRsZVByaW50Iiwid2luZG93IiwicHJpbnQiLCJsZW5ndGgiLCJwYXRpZW50IiwiZ2VuZXJhbEluZm8iLCJuYW1lIiwiZGlhZ25vc2lzIiwiYWRtaXNzaW9uRGF0ZSIsIlBhdGllbnRMaXN0IiwiX3JlZjQiLCJvblNlbGVjdCIsIl91c2VTdGF0ZTMiLCJfdXNlU3RhdGU0Iiwic2VhcmNoVGVybSIsInNldFNlYXJjaFRlcm0iLCJfdXNlU3RhdGU1IiwiX3VzZVN0YXRlNiIsImZpbHRlclN0YXR1cyIsInNldEZpbHRlclN0YXR1cyIsImZpbHRlcmVkUGF0aWVudHMiLCJtYXRjaGVzU2VhcmNoIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImRuaSIsIm1hdGNoZXNTdGF0dXMiLCJwbGFjZWhvbGRlciIsInZhbHVlIiwiVmlzaXRGb3JtIiwiX3JlZjUiLCJwYXRpZW50SWQiLCJvblNhdmUiLCJsYXN0VmlzaXROdW1iZXIiLCJfdXNlU3RhdGU3IiwidmlzaXRvck5hbWUiLCJ2aXNpdG9yUmFuayIsInZpc2l0b3JBZGRyZXNzIiwiY29tcGFuaW9ucyIsImRhdGUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzcGxpdCIsIm5vdGVzIiwiYWN0aW9uc1Rha2VuIiwiYWN0aW9uc1BlbmRpbmciLCJ2aXNpdE51bWJlciIsIl91c2VTdGF0ZTgiLCJ2aXNpdCIsInNldFZpc2l0IiwiaGFuZGxlQ2hhbmdlIiwiZmllbGQiLCJwcmV2IiwiX29iamVjdFNwcmVhZCIsIl9kZWZpbmVQcm9wZXJ0eSIsImhhbmRsZUNvbXBhbmlvbkNoYW5nZSIsImluZGV4IiwibmV3Q29tcGFuaW9ucyIsIl90b0NvbnN1bWFibGVBcnJheSIsImFkZENvbXBhbmlvbiIsImhhbmRsZVBob3RvVXBsb2FkIiwidXBsb2FkZWRQaG90b3MiLCJoYW5kbGVTdWJtaXQiLCJjb21wYW5pb24iLCJyb3dzIiwicmFuayIsImFnZSIsImdlbmRlciIsImFkZHJlc3MiLCJhc3NpZ25tZW50IiwiYXNzaWdubWVudExvY2F0aW9uIiwicmVzaWRlbmNlIiwicGhvbmUiLCJob3NwaXRhbE5hbWUiLCJyZWFzb24iLCJhY2NpZGVudERldGFpbHMiLCJ0cmFuc2ZlcnJlZEJ5IiwicmVjb3ZlcnlUaW1lIiwicmVjb21tZW5kYXRpb25zIiwiZmFtaWx5SW5mbyIsInJlbGF0aW9uc2hpcCIsInZpc2l0cyIsInNhdmVQYXRpZW50cyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0UGF0aWVudHMiLCJwYXJzZSIsImdldEl0ZW0iLCJhZGRQYXRpZW50IiwibmV3UGF0aWVudCIsInVwZGF0ZWRQYXRpZW50cyIsIm5vdyIsInVwZGF0ZVBhdGllbnQiLCJ1cGRhdGVkUGF0aWVudCIsImRlbGV0ZVBhdGllbnQiLCJQYXRpZW50Rm9ybSIsIl9yZWY2IiwiX3VzZVN0YXRlOSIsIl91c2VTdGF0ZTAiLCJzZXRQYXRpZW50Iiwic2VjdGlvbiIsImhhbmRsZUZhbWlseUNoYW5nZSIsIm5ld0ZhbWlseUluZm8iLCJhZGRGYW1pbHlNZW1iZXIiLCJtZW1iZXIiLCJQYXRpZW50RGV0YWlsIiwiX3JlZjciLCJvblVwZGF0ZSIsIm9uQWRkVmlzaXQiLCJfdXNlU3RhdGUxIiwiX3VzZVN0YXRlMTAiLCJpc0VkaXRpbmdEaXNjaGFyZ2UiLCJzZXRJc0VkaXRpbmdEaXNjaGFyZ2UiLCJfdXNlU3RhdGUxMSIsIl91c2VTdGF0ZTEyIiwiZGlzY2hhcmdlSW5mbyIsInNldERpc2NoYXJnZUluZm8iLCJoYW5kbGVEaXNjaGFyZ2VDaGFuZ2UiLCJoYW5kbGVTYXZlRGlzY2hhcmdlIiwiam9pbiIsInBob3RvIiwicEluZGV4Iiwic3JjIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiYWx0IiwibmV3VmlzaXQiLCJBcHAiLCJfdXNlU3RhdGUxMyIsIl91c2VTdGF0ZTE0Iiwic2V0UGF0aWVudHMiLCJfdXNlU3RhdGUxNSIsIl91c2VTdGF0ZTE2Iiwic2VsZWN0ZWRQYXRpZW50Iiwic2V0U2VsZWN0ZWRQYXRpZW50IiwiX3VzZVN0YXRlMTciLCJfdXNlU3RhdGUxOCIsImhhbmRsZVNhdmVQYXRpZW50IiwiaGFuZGxlVXBkYXRlUGF0aWVudCIsImhhbmRsZUFkZFZpc2l0IiwiZmluZCIsImhhbmRsZURlbGV0ZVBhdGllbnQiLCJyb290IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInJlbmRlciJdLCJzb3VyY2VzIjpbIklubGluZSBCYWJlbCBzY3JpcHQiXSwic291cmNlc0NvbnRlbnQiOlsiXG5jb25zdCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlTWVtbywgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgU3RyaWN0TW9kZSB9ID0gUmVhY3Q7XG4gICAgICAgICAgICBjb25zdCB7IGNyZWF0ZVJvb3QgfSA9IFJlYWN0RE9NO1xuXG4gICAgICAgICAgICAvLyAvY29tcG9uZW50cy9QaG90b1VwbG9hZC5qc1xuY29uc3QgUGhvdG9VcGxvYWQgPSAoeyBvblVwbG9hZCB9KSA9PiB7XG4gIGNvbnN0IFtwaG90b3MsIHNldFBob3Rvc10gPSB1c2VTdGF0ZShbXSk7XG5cbiAgY29uc3QgaGFuZGxlRmlsZUNoYW5nZSA9IChlKSA9PiB7XG4gICAgY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKGUudGFyZ2V0LmZpbGVzKTtcbiAgICBzZXRQaG90b3MoZmlsZXMpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtdC00XCI+XG4gICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTFcIj5Gb3RvZ3JhZsOtYXM8L2xhYmVsPlxuICAgICAgPGlucHV0XG4gICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgbXVsdGlwbGVcbiAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUZpbGVDaGFuZ2V9XG4gICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHctZnVsbCB0ZXh0LXNtIHRleHQtZ3JheS01MDBcbiAgICAgICAgICBmaWxlOm1yLTQgZmlsZTpweS0yIGZpbGU6cHgtNFxuICAgICAgICAgIGZpbGU6cm91bmRlZC1tZCBmaWxlOmJvcmRlci0wXG4gICAgICAgICAgZmlsZTp0ZXh0LXNtIGZpbGU6Zm9udC1zZW1pYm9sZFxuICAgICAgICAgIGZpbGU6YmctYmx1ZS01MCBmaWxlOnRleHQtYmx1ZS03MDBcbiAgICAgICAgICBob3ZlcjpmaWxlOmJnLWJsdWUtMTAwXCJcbiAgICAgIC8+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cIm10LTIgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSBweS0yIHB4LTQgcm91bmRlZCBob3ZlcjpiZy1ibHVlLTcwMCB0cmFuc2l0aW9uXCJcbiAgICAgICAgb25DbGljaz17KCkgPT4gb25VcGxvYWQocGhvdG9zKX1cbiAgICAgID5cbiAgICAgICAgU3ViaXIgRm90b3NcbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gL2NvbXBvbmVudHMvTmF2aWdhdGlvbi5qc1xuY29uc3QgTmF2aWdhdGlvbiA9ICh7IGFjdGl2ZVRhYiwgc2V0QWN0aXZlVGFiIH0pID0+IHtcbiAgY29uc3QgdGFicyA9IFtcbiAgICB7IGlkOiAnbGlzdCcsIGxhYmVsOiAnTGlzdGEgZGUgUGFjaWVudGVzJyB9LFxuICAgIHsgaWQ6ICduZXcnLCBsYWJlbDogJ051ZXZvIFBhY2llbnRlJyB9LFxuICAgIHsgaWQ6ICdyZXBvcnRzJywgbGFiZWw6ICdSZXBvcnRlcycgfVxuICBdO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBzaGFkb3ctc21cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBib3JkZXItYlwiPlxuICAgICAgICB7dGFicy5tYXAodGFiID0+IChcbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBrZXk9e3RhYi5pZH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTQgcHktMyBmb250LW1lZGl1bSB0ZXh0LXNtICR7YWN0aXZlVGFiID09PSB0YWIuaWQgPyAndGV4dC1ibHVlLTYwMCBib3JkZXItYi0yIGJvcmRlci1ibHVlLTYwMCcgOiAndGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwJ31gfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlVGFiKHRhYi5pZCl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3RhYi5sYWJlbH1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vIC9jb21wb25lbnRzL1JlcG9ydHNQYW5lbC5qc1xuY29uc3QgUmVwb3J0c1BhbmVsID0gKHsgcGF0aWVudHMgfSkgPT4ge1xuICBjb25zdCBpbnRlcm5hbFBhdGllbnRzID0gcGF0aWVudHMuZmlsdGVyKHAgPT4gIXAubWVkaWNhbEluZm8uZGlzY2hhcmdlRGF0ZSk7XG4gIGNvbnN0IGRpc2NoYXJnZWRQYXRpZW50cyA9IHBhdGllbnRzLmZpbHRlcihwID0+IHAubWVkaWNhbEluZm8uZGlzY2hhcmdlRGF0ZSk7XG5cbiAgY29uc3QgaGFuZGxlUHJpbnQgPSAoKSA9PiB7XG4gICAgd2luZG93LnByaW50KCk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHAtNCByb3VuZGVkLWxnIHNoYWRvd1wiPlxuICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi00XCI+UmVwb3J0ZXM8L2gyPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0zIGdhcC00IG1iLTZcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ibHVlLTUwIHAtMyByb3VuZGVkXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWJsdWUtNjAwXCI+VG90YWwgUGFjaWVudGVzPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZFwiPntwYXRpZW50cy5sZW5ndGh9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmVlbi01MCBwLTMgcm91bmRlZFwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmVlbi02MDBcIj5BbHRhcyBNw6lkaWNhczwvcD5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGRcIj57ZGlzY2hhcmdlZFBhdGllbnRzLmxlbmd0aH08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXllbGxvdy01MCBwLTMgcm91bmRlZFwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC15ZWxsb3ctNjAwXCI+UGFjaWVudGVzIEludGVybm9zPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZFwiPntpbnRlcm5hbFBhdGllbnRzLmxlbmd0aH08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNlwiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWxnIG1iLTNcIj5QYWNpZW50ZXMgSW50ZXJub3M8L2gzPlxuICAgICAgICB7aW50ZXJuYWxQYXRpZW50cy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWRpc2MgcGwtNSBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIHtpbnRlcm5hbFBhdGllbnRzLm1hcChwYXRpZW50ID0+IChcbiAgICAgICAgICAgICAgPGxpIGtleT17cGF0aWVudC5pZH0gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgICAgIHtwYXRpZW50LmdlbmVyYWxJbmZvLm5hbWV9IC0ge3BhdGllbnQubWVkaWNhbEluZm8uZGlhZ25vc2lzfSAoSW5ncmVzbzoge3BhdGllbnQubWVkaWNhbEluZm8uYWRtaXNzaW9uRGF0ZX0pXG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L3VsPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj5ObyBoYXkgcGFjaWVudGVzIGludGVybm9zIGFjdHVhbG1lbnRlLjwvcD5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTZcIj5cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1sZyBtYi0zXCI+UGFjaWVudGVzIGNvbiBBbHRhIE3DqWRpY2E8L2gzPlxuICAgICAgICB7ZGlzY2hhcmdlZFBhdGllbnRzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZGlzYyBwbC01IHNwYWNlLXktMVwiPlxuICAgICAgICAgICAge2Rpc2NoYXJnZWRQYXRpZW50cy5tYXAocGF0aWVudCA9PiAoXG4gICAgICAgICAgICAgIDxsaSBrZXk9e3BhdGllbnQuaWR9IGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICB7cGF0aWVudC5nZW5lcmFsSW5mby5uYW1lfSAtIHtwYXRpZW50Lm1lZGljYWxJbmZvLmRpYWdub3Npc30gKEFsdGE6IHtwYXRpZW50Lm1lZGljYWxJbmZvLmRpc2NoYXJnZURhdGUgfHwgJ04vQSd9KVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+Tm8gaGF5IHBhY2llbnRlcyBjb24gYWx0YSBtw6lkaWNhIHJlZ2lzdHJhZGEuPC9wPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxidXR0b24gXG4gICAgICAgIGNsYXNzTmFtZT1cIm10LTQgYmctZ3JheS04MDAgdGV4dC13aGl0ZSBweS0yIHB4LTQgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTkwMCB0cmFuc2l0aW9uXCJcbiAgICAgICAgb25DbGljaz17aGFuZGxlUHJpbnR9XG4gICAgICA+XG4gICAgICAgIEltcHJpbWlyIFJlcG9ydGVcbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gL2NvbXBvbmVudHMvUGF0aWVudExpc3QuanNcbmNvbnN0IFBhdGllbnRMaXN0ID0gKHsgcGF0aWVudHMsIG9uU2VsZWN0IH0pID0+IHtcbiAgY29uc3QgW3NlYXJjaFRlcm0sIHNldFNlYXJjaFRlcm1dID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbZmlsdGVyU3RhdHVzLCBzZXRGaWx0ZXJTdGF0dXNdID0gdXNlU3RhdGUoJ2FsbCcpOyAvLyAnYWxsJywgJ2ludGVybmFsJywgJ2Rpc2NoYXJnZWQnXG5cbiAgY29uc3QgZmlsdGVyZWRQYXRpZW50cyA9IHBhdGllbnRzLmZpbHRlcihwYXRpZW50ID0+IHtcbiAgICBjb25zdCBtYXRjaGVzU2VhcmNoID0gcGF0aWVudC5nZW5lcmFsSW5mby5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRpZW50LmdlbmVyYWxJbmZvLmRuaS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0udG9Mb3dlckNhc2UoKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aWVudC5tZWRpY2FsSW5mby5kaWFnbm9zaXMudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkpO1xuICAgIFxuICAgIGNvbnN0IG1hdGNoZXNTdGF0dXMgPSBmaWx0ZXJTdGF0dXMgPT09ICdhbGwnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIChmaWx0ZXJTdGF0dXMgPT09ICdpbnRlcm5hbCcgJiYgIXBhdGllbnQubWVkaWNhbEluZm8uZGlzY2hhcmdlRGF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGZpbHRlclN0YXR1cyA9PT0gJ2Rpc2NoYXJnZWQnICYmIHBhdGllbnQubWVkaWNhbEluZm8uZGlzY2hhcmdlRGF0ZSk7XG4gICAgXG4gICAgcmV0dXJuIG1hdGNoZXNTZWFyY2ggJiYgbWF0Y2hlc1N0YXR1cztcbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LW1kIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYmctZ3JheS0xMDAgYm9yZGVyLWJcIj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi0zXCI+TGlzdGFkbyBkZSBQYWNpZW50ZXM8L2gyPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJCdXNjYXIgcG9yIG5vbWJyZSwgRE5JIG8gZGlhZ27Ds3N0aWNvLi4uXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0yIGJvcmRlciByb3VuZGVkLWxnIG1iLTMgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgIHZhbHVlPXtzZWFyY2hUZXJtfVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoVGVybShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9e2BweC00IHB5LTIgcm91bmRlZC1sZyB0ZXh0LXNtIGZvbnQtbWVkaXVtICR7ZmlsdGVyU3RhdHVzID09PSAnYWxsJyA/ICdiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTIwMCB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktMzAwJ31gfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RmlsdGVyU3RhdHVzKCdhbGwnKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBUb2Rvc1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTQgcHktMiByb3VuZGVkLWxnIHRleHQtc20gZm9udC1tZWRpdW0gJHtmaWx0ZXJTdGF0dXMgPT09ICdpbnRlcm5hbCcgPyAnYmctYmx1ZS02MDAgdGV4dC13aGl0ZScgOiAnYmctZ3JheS0yMDAgdGV4dC1ncmF5LTcwMCBob3ZlcjpiZy1ncmF5LTMwMCd9YH1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEZpbHRlclN0YXR1cygnaW50ZXJuYWwnKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBJbnRlcm5vc1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTQgcHktMiByb3VuZGVkLWxnIHRleHQtc20gZm9udC1tZWRpdW0gJHtmaWx0ZXJTdGF0dXMgPT09ICdkaXNjaGFyZ2VkJyA/ICdiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTIwMCB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktMzAwJ31gfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RmlsdGVyU3RhdHVzKCdkaXNjaGFyZ2VkJyl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgRGFkb3MgZGUgQWx0YVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkaXZpZGUteSBtYXgtaC05NiBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAge2ZpbHRlcmVkUGF0aWVudHMubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICBmaWx0ZXJlZFBhdGllbnRzLm1hcChwYXRpZW50ID0+IChcbiAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgIGtleT17cGF0aWVudC5pZH0gXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtNCBob3ZlcjpiZy1ncmF5LTUwIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25TZWxlY3QocGF0aWVudCl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS04MDBcIj57cGF0aWVudC5nZW5lcmFsSW5mby5uYW1lfTwvaDM+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+e3BhdGllbnQuZ2VuZXJhbEluZm8uZG5pfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPntwYXRpZW50Lm1lZGljYWxJbmZvLmRpYWdub3Npc308L3A+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHRleHQteHMgZm9udC1zZW1pYm9sZCBweC0yIHB5LTAuNSByb3VuZGVkLWZ1bGwgJHtwYXRpZW50Lm1lZGljYWxJbmZvLmRpc2NoYXJnZURhdGUgPyAnYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tODAwJyA6ICdiZy1ibHVlLTEwMCB0ZXh0LWJsdWUtODAwJ31gfT5cbiAgICAgICAgICAgICAgICB7cGF0aWVudC5tZWRpY2FsSW5mby5kaXNjaGFyZ2VEYXRlID8gJ0FsdGEnIDogJ0ludGVybm8nfVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKVxuICAgICAgICApIDogKFxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInAtNCB0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwXCI+Tm8gc2UgZW5jb250cmFyb24gcGFjaWVudGVzLjwvcD5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gL2NvbXBvbmVudHMvVmlzaXRGb3JtLmpzXG5jb25zdCBWaXNpdEZvcm0gPSAoeyBwYXRpZW50SWQsIG9uU2F2ZSwgbGFzdFZpc2l0TnVtYmVyIH0pID0+IHtcbiAgY29uc3QgW3Zpc2l0LCBzZXRWaXNpdF0gPSB1c2VTdGF0ZSh7XG4gICAgdmlzaXRvck5hbWU6ICcnLFxuICAgIHZpc2l0b3JSYW5rOiAnJyxcbiAgICB2aXNpdG9yQWRkcmVzczogJycsXG4gICAgY29tcGFuaW9uczogWycnXSxcbiAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSxcbiAgICBub3RlczogJycsXG4gICAgYWN0aW9uc1Rha2VuOiAnJywgLy8gTnVldm8gY2FtcG86IEdlc3Rpb25lcyBSZWFsaXphZGFzXG4gICAgYWN0aW9uc1BlbmRpbmc6ICcnLCAvLyBOdWV2byBjYW1wbzogR2VzdGlvbmVzIFBlbmRpZW50ZXNcbiAgICBwaG90b3M6IFtdLFxuICAgIHZpc2l0TnVtYmVyOiBsYXN0VmlzaXROdW1iZXIgKyAxXG4gIH0pO1xuXG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChmaWVsZCwgdmFsdWUpID0+IHtcbiAgICBzZXRWaXNpdChwcmV2ID0+ICh7IC4uLnByZXYsIFtmaWVsZF06IHZhbHVlIH0pKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDb21wYW5pb25DaGFuZ2UgPSAoaW5kZXgsIHZhbHVlKSA9PiB7XG4gICAgY29uc3QgbmV3Q29tcGFuaW9ucyA9IFsuLi52aXNpdC5jb21wYW5pb25zXTtcbiAgICBuZXdDb21wYW5pb25zW2luZGV4XSA9IHZhbHVlO1xuICAgIHNldFZpc2l0KHByZXYgPT4gKHsgLi4ucHJldiwgY29tcGFuaW9uczogbmV3Q29tcGFuaW9ucyB9KSk7XG4gIH07XG5cbiAgY29uc3QgYWRkQ29tcGFuaW9uID0gKCkgPT4ge1xuICAgIHNldFZpc2l0KHByZXYgPT4gKHsgLi4ucHJldiwgY29tcGFuaW9uczogWy4uLnByZXYuY29tcGFuaW9ucywgJyddIH0pKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVQaG90b1VwbG9hZCA9ICh1cGxvYWRlZFBob3RvcykgPT4ge1xuICAgIHNldFZpc2l0KHByZXYgPT4gKHsgLi4ucHJldiwgcGhvdG9zOiBbLi4ucHJldi5waG90b3MsIC4uLnVwbG9hZGVkUGhvdG9zXSB9KSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gKCkgPT4ge1xuICAgIG9uU2F2ZSh2aXNpdCk7XG4gICAgc2V0VmlzaXQoe1xuICAgICAgdmlzaXRvck5hbWU6ICcnLFxuICAgICAgdmlzaXRvclJhbms6ICcnLFxuICAgICAgdmlzaXRvckFkZHJlc3M6ICcnLFxuICAgICAgY29tcGFuaW9uczogWycnXSxcbiAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgbm90ZXM6ICcnLFxuICAgICAgYWN0aW9uc1Rha2VuOiAnJyxcbiAgICAgIGFjdGlvbnNQZW5kaW5nOiAnJyxcbiAgICAgIHBob3RvczogW10sXG4gICAgICB2aXNpdE51bWJlcjogbGFzdFZpc2l0TnVtYmVyICsgMlxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTUwIHAtNCByb3VuZGVkLWxnIHNoYWRvdy1pbm5lciBtdC02XCI+XG4gICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXhsIG1iLTQgdGV4dC1ncmF5LTcwMFwiPlJlZ2lzdHJhciBOdWV2YSBWaXNpdGE8L2gzPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC00XCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiPk5vbWJyZSBkZWwgVmlzaXRhbnRlPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIk5vbWJyZVwiIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIiB2YWx1ZT17dmlzaXQudmlzaXRvck5hbWV9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ2hhbmdlKCd2aXNpdG9yTmFtZScsIGUudGFyZ2V0LnZhbHVlKX0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiPkdyYWRvIGRlbCBWaXNpdGFudGU8L2xhYmVsPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiR3JhZG9cIiBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0yIGJvcmRlciByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwXCIgdmFsdWU9e3Zpc2l0LnZpc2l0b3JSYW5rfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNoYW5nZSgndmlzaXRvclJhbmsnLCBlLnRhcmdldC52YWx1ZSl9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1kOmNvbC1zcGFuLTJcIj5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCI+RGlyZWNjacOzbiBkZWwgVmlzaXRhbnRlPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkRpcmVjY2nDs25cIiBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0yIGJvcmRlciByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwXCIgdmFsdWU9e3Zpc2l0LnZpc2l0b3JBZGRyZXNzfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNoYW5nZSgndmlzaXRvckFkZHJlc3MnLCBlLnRhcmdldC52YWx1ZSl9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1kOmNvbC1zcGFuLTJcIj5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCI+QWNvbXBhw7FhbnRlczwvbGFiZWw+XG4gICAgICAgICAge3Zpc2l0LmNvbXBhbmlvbnMubWFwKChjb21wYW5pb24sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICA8aW5wdXQga2V5PXtpbmRleH0gdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj17YEFjb21wYcOxYW50ZSAke2luZGV4ICsgMX1gfSBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0yIGJvcmRlciByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIG1iLTJcIiB2YWx1ZT17Y29tcGFuaW9ufSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNvbXBhbmlvbkNoYW5nZShpbmRleCwgZS50YXJnZXQudmFsdWUpfSAvPlxuICAgICAgICAgICkpfVxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9e2FkZENvbXBhbmlvbn0gY2xhc3NOYW1lPVwiYmctZ3JheS0yMDAgdGV4dC1ncmF5LTgwMCBweC0zIHB5LTEgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmF5LTMwMCB0cmFuc2l0aW9uIHRleHQtc21cIj5cbiAgICAgICAgICAgIEFncmVnYXIgQWNvbXBhw7FhbnRlXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5GZWNoYSBkZSBsYSBWaXNpdGE8L2xhYmVsPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIiB2YWx1ZT17dmlzaXQuZGF0ZX0gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVDaGFuZ2UoJ2RhdGUnLCBlLnRhcmdldC52YWx1ZSl9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1kOmNvbC1zcGFuLTJcIj5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCI+Tm90YXMgZGUgbGEgVmlzaXRhPC9sYWJlbD5cbiAgICAgICAgICA8dGV4dGFyZWEgcGxhY2Vob2xkZXI9XCJOb3RhcyBkZSBsYSB2aXNpdGFcIiBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0yIGJvcmRlciByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIHJlc2l6ZS1ub25lXCIgcm93cz1cIjNcIiB2YWx1ZT17dmlzaXQubm90ZXN9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ2hhbmdlKCdub3RlcycsIGUudGFyZ2V0LnZhbHVlKX0+PC90ZXh0YXJlYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWQ6Y29sLXNwYW4tMlwiPlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5HZXN0aW9uZXMgUmVhbGl6YWRhczwvbGFiZWw+XG4gICAgICAgICAgPHRleHRhcmVhIHBsYWNlaG9sZGVyPVwiR2VzdGlvbmVzIHJlYWxpemFkYXMgZHVyYW50ZSBsYSB2aXNpdGFcIiBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0yIGJvcmRlciByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIHJlc2l6ZS1ub25lXCIgcm93cz1cIjNcIiB2YWx1ZT17dmlzaXQuYWN0aW9uc1Rha2VufSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNoYW5nZSgnYWN0aW9uc1Rha2VuJywgZS50YXJnZXQudmFsdWUpfT48L3RleHRhcmVhPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZDpjb2wtc3Bhbi0yXCI+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiPkdlc3Rpb25lcyBQZW5kaWVudGVzPC9sYWJlbD5cbiAgICAgICAgICA8dGV4dGFyZWEgcGxhY2Vob2xkZXI9XCJHZXN0aW9uZXMgcGVuZGllbnRlcyBwYXJhIGxhIG1lam9yYSBkZWwgcGFjaWVudGVcIiBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0yIGJvcmRlciByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIHJlc2l6ZS1ub25lXCIgcm93cz1cIjNcIiB2YWx1ZT17dmlzaXQuYWN0aW9uc1BlbmRpbmd9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ2hhbmdlKCdhY3Rpb25zUGVuZGluZycsIGUudGFyZ2V0LnZhbHVlKX0+PC90ZXh0YXJlYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPFBob3RvVXBsb2FkIG9uVXBsb2FkPXtoYW5kbGVQaG90b1VwbG9hZH0gLz5cblxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgbXQtNiBiZy1ncmVlbi02MDAgdGV4dC13aGl0ZSBweS0zIHJvdW5kZWQtbGcgaG92ZXI6YmctZ3JlZW4tNzAwIHRyYW5zaXRpb24gdGV4dC1sZyBmb250LXNlbWlib2xkXCJcbiAgICAgICAgb25DbGljaz17aGFuZGxlU3VibWl0fVxuICAgICAgPlxuICAgICAgICBSZWdpc3RyYXIgVmlzaXRhICN7dmlzaXQudmlzaXROdW1iZXJ9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vIC9tb2NrL3BhdGllbnRzLmpzXG5jb25zdCBwYXRpZW50cyA9IFtcbiAge1xuICAgIGlkOiAxLFxuICAgIGdlbmVyYWxJbmZvOiB7XG4gICAgICBuYW1lOiBcIkp1YW4gUMOpcmV6XCIsXG4gICAgICBkbmk6IFwiMTIzNDU2NzhcIixcbiAgICAgIHJhbms6IFwiU2FyZ2VudG9cIixcbiAgICAgIGFnZTogMzUsXG4gICAgICBnZW5kZXI6IFwiTWFzY3VsaW5vXCIsXG4gICAgICBhZGRyZXNzOiBcIkF2LiBQcmluY2lwYWwgMTIzXCIsXG4gICAgICBhc3NpZ25tZW50OiBcIkNhcmRpb2xvZ8OtYVwiLFxuICAgICAgYXNzaWdubWVudExvY2F0aW9uOiBcIkhvc3BpdGFsIENlbnRyYWxcIixcbiAgICAgIHJlc2lkZW5jZTogXCJDb2xvbmlhIGRlbCBWYWxsZVwiLFxuICAgICAgcGhvbmU6IFwiOTg3NjU0MzIxXCJcbiAgICB9LFxuICAgIG1lZGljYWxJbmZvOiB7XG4gICAgICBkaWFnbm9zaXM6IFwiSGlwZXJ0ZW5zacOzbiBhcnRlcmlhbFwiLFxuICAgICAgYWRtaXNzaW9uRGF0ZTogXCIyMDIzLTA1LTE1XCIsXG4gICAgICBob3NwaXRhbE5hbWU6IFwiSG9zcGl0YWwgR2VuZXJhbCBkZWwgU3VyXCIsIC8vIE51ZXZvIGNhbXBvXG4gICAgICByZWFzb246IFwiRW5mZXJtZWRhZCBuYXR1cmFsXCIsXG4gICAgICBhY2NpZGVudERldGFpbHM6IFwiXCIsXG4gICAgICB0cmFuc2ZlcnJlZEJ5OiBcIkZhbWlsaWFyZXNcIixcbiAgICAgIGRpc2NoYXJnZURhdGU6IFwiXCIsIC8vIE51ZXZvIGNhbXBvXG4gICAgICByZWNvdmVyeVRpbWU6IFwiXCIsIC8vIE51ZXZvIGNhbXBvXG4gICAgICByZWNvbW1lbmRhdGlvbnM6IFwiXCIgLy8gTnVldm8gY2FtcG9cbiAgICB9LFxuICAgIGZhbWlseUluZm86IFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJNYXLDrWEgUMOpcmV6XCIsXG4gICAgICAgIHJlbGF0aW9uc2hpcDogXCJFc3Bvc2FcIixcbiAgICAgICAgcGhvbmU6IFwiOTg3MTIzNDU2XCJcbiAgICAgIH1cbiAgICBdLFxuICAgIHZpc2l0czogW1xuICAgICAge1xuICAgICAgICBpZDogMSxcbiAgICAgICAgdmlzaXRvck5hbWU6IFwiRHJhLiBBbmEgTMOzcGV6XCIsXG4gICAgICAgIHZpc2l0b3JSYW5rOiBcIk3DqWRpY28gcmVzaWRlbnRlXCIsXG4gICAgICAgIHZpc2l0b3JBZGRyZXNzOiBcIkNsw61uaWNhIFNhbiBKdWFuXCIsXG4gICAgICAgIGNvbXBhbmlvbnM6IFtcIkVuZmVybWVybyBDYXJsb3NcIl0sXG4gICAgICAgIGRhdGU6IFwiMjAyMy0wNS0xNlwiLFxuICAgICAgICBub3RlczogXCJQYWNpZW50ZSBlc3RhYmxlLCBjb250aW51YXIgdHJhdGFtaWVudG9cIixcbiAgICAgICAgYWN0aW9uc1Rha2VuOiBcIlJldmlzacOzbiBkZSBzaWdub3Mgdml0YWxlcywgYWp1c3RlIGRlIG1lZGljYWNpw7NuLlwiLCAvLyBOdWV2byBjYW1wb1xuICAgICAgICBhY3Rpb25zUGVuZGluZzogXCJFc3BlcmFyIHJlc3VsdGFkb3MgZGUgbGFib3JhdG9yaW8sIHByb2dyYW1hciBjb25zdWx0YSBjb24gZXNwZWNpYWxpc3RhLlwiLCAvLyBOdWV2byBjYW1wb1xuICAgICAgICBwaG90b3M6IFtdLFxuICAgICAgICB2aXNpdE51bWJlcjogMVxuICAgICAgfVxuICAgIF1cbiAgfVxuXTtcblxuLy8gL3V0aWxzL3N0b3JhZ2UuanNcbmNvbnN0IHNhdmVQYXRpZW50cyA9IChwYXRpZW50cykgPT4ge1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGF0aWVudHMnLCBKU09OLnN0cmluZ2lmeShwYXRpZW50cykpO1xufTtcblxuY29uc3QgZ2V0UGF0aWVudHMgPSAoKSA9PiB7XG4gIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwYXRpZW50cycpKSB8fCBbXTtcbn07XG5cbmNvbnN0IGFkZFBhdGllbnQgPSAobmV3UGF0aWVudCkgPT4ge1xuICBjb25zdCBwYXRpZW50cyA9IGdldFBhdGllbnRzKCk7XG4gIGNvbnN0IHVwZGF0ZWRQYXRpZW50cyA9IFsuLi5wYXRpZW50cywgeyAuLi5uZXdQYXRpZW50LCBpZDogRGF0ZS5ub3coKSB9XTtcbiAgc2F2ZVBhdGllbnRzKHVwZGF0ZWRQYXRpZW50cyk7XG4gIHJldHVybiB1cGRhdGVkUGF0aWVudHM7XG59O1xuXG5jb25zdCB1cGRhdGVQYXRpZW50ID0gKHVwZGF0ZWRQYXRpZW50KSA9PiB7XG4gIGNvbnN0IHBhdGllbnRzID0gZ2V0UGF0aWVudHMoKTtcbiAgY29uc3QgdXBkYXRlZFBhdGllbnRzID0gcGF0aWVudHMubWFwKHAgPT4gXG4gICAgcC5pZCA9PT0gdXBkYXRlZFBhdGllbnQuaWQgPyB1cGRhdGVkUGF0aWVudCA6IHBcbiAgKTtcbiAgc2F2ZVBhdGllbnRzKHVwZGF0ZWRQYXRpZW50cyk7XG4gIHJldHVybiB1cGRhdGVkUGF0aWVudHM7XG59O1xuXG5jb25zdCBkZWxldGVQYXRpZW50ID0gKHBhdGllbnRJZCkgPT4ge1xuICBjb25zdCBwYXRpZW50cyA9IGdldFBhdGllbnRzKCk7XG4gIGNvbnN0IHVwZGF0ZWRQYXRpZW50cyA9IHBhdGllbnRzLmZpbHRlcihwID0+IHAuaWQgIT09IHBhdGllbnRJZCk7XG4gIHNhdmVQYXRpZW50cyh1cGRhdGVkUGF0aWVudHMpO1xuICByZXR1cm4gdXBkYXRlZFBhdGllbnRzO1xufTtcbi8vIERPTkVcblxuLy8gL2NvbXBvbmVudHMvUGF0aWVudEZvcm0uanNcbmNvbnN0IFBhdGllbnRGb3JtID0gKHsgb25TYXZlIH0pID0+IHtcbiAgY29uc3QgW3BhdGllbnQsIHNldFBhdGllbnRdID0gdXNlU3RhdGUoe1xuICAgIGdlbmVyYWxJbmZvOiB7XG4gICAgICBuYW1lOiAnJyxcbiAgICAgIGRuaTogJycsXG4gICAgICByYW5rOiAnJyxcbiAgICAgIGFnZTogJycsXG4gICAgICBnZW5kZXI6ICcnLFxuICAgICAgYWRkcmVzczogJycsXG4gICAgICBhc3NpZ25tZW50OiAnJyxcbiAgICAgIGFzc2lnbm1lbnRMb2NhdGlvbjogJycsXG4gICAgICByZXNpZGVuY2U6ICcnLFxuICAgICAgcGhvbmU6ICcnXG4gICAgfSxcbiAgICBtZWRpY2FsSW5mbzoge1xuICAgICAgZGlhZ25vc2lzOiAnJyxcbiAgICAgIGFkbWlzc2lvbkRhdGU6ICcnLFxuICAgICAgaG9zcGl0YWxOYW1lOiAnJyxcbiAgICAgIHJlYXNvbjogJycsXG4gICAgICBhY2NpZGVudERldGFpbHM6ICcnLFxuICAgICAgdHJhbnNmZXJyZWRCeTogJycsXG4gICAgICAvLyBDYW1wb3MgZGUgYWx0YSBubyBzZSBpbmljaWFsaXphbiBhcXXDrSwgc2UgbGxlbmFyw6FuIGFsIGRhciBkZSBhbHRhXG4gICAgICBkaXNjaGFyZ2VEYXRlOiAnJywgXG4gICAgICByZWNvdmVyeVRpbWU6ICcnLFxuICAgICAgcmVjb21tZW5kYXRpb25zOiAnJ1xuICAgIH0sXG4gICAgZmFtaWx5SW5mbzogW3sgbmFtZTogJycsIHJlbGF0aW9uc2hpcDogJycsIHBob25lOiAnJyB9XSxcbiAgICB2aXNpdHM6IFtdXG4gIH0pO1xuXG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChzZWN0aW9uLCBmaWVsZCwgdmFsdWUpID0+IHtcbiAgICBzZXRQYXRpZW50KHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBbc2VjdGlvbl06IHtcbiAgICAgICAgLi4ucHJldltzZWN0aW9uXSxcbiAgICAgICAgW2ZpZWxkXTogdmFsdWVcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRmFtaWx5Q2hhbmdlID0gKGluZGV4LCBmaWVsZCwgdmFsdWUpID0+IHtcbiAgICBjb25zdCBuZXdGYW1pbHlJbmZvID0gWy4uLnBhdGllbnQuZmFtaWx5SW5mb107XG4gICAgbmV3RmFtaWx5SW5mb1tpbmRleF1bZmllbGRdID0gdmFsdWU7XG4gICAgc2V0UGF0aWVudChwcmV2ID0+ICh7IC4uLnByZXYsIGZhbWlseUluZm86IG5ld0ZhbWlseUluZm8gfSkpO1xuICB9O1xuXG4gIGNvbnN0IGFkZEZhbWlseU1lbWJlciA9ICgpID0+IHtcbiAgICBzZXRQYXRpZW50KHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBmYW1pbHlJbmZvOiBbLi4ucHJldi5mYW1pbHlJbmZvLCB7IG5hbWU6ICcnLCByZWxhdGlvbnNoaXA6ICcnLCBwaG9uZTogJycgfV1cbiAgICB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHAtNiByb3VuZGVkLWxnIHNoYWRvdy1tZFwiPlxuICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIG1iLTRcIj5EYXRvcyBkZWwgUGFjaWVudGU8L2gyPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC02XCI+XG4gICAgICAgIHsvKiBJbmZvcm1hY2nDs24gR2VuZXJhbCAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWxnIGJvcmRlci1iIHBiLTIgbWItM1wiPkluZm9ybWFjacOzbiBHZW5lcmFsPC9oMz5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIk5vbWJyZSBjb21wbGV0b1wiIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIiB2YWx1ZT17cGF0aWVudC5nZW5lcmFsSW5mby5uYW1lfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNoYW5nZSgnZ2VuZXJhbEluZm8nLCAnbmFtZScsIGUudGFyZ2V0LnZhbHVlKX0gLz5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkROSVwiIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIiB2YWx1ZT17cGF0aWVudC5nZW5lcmFsSW5mby5kbml9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ2hhbmdlKCdnZW5lcmFsSW5mbycsICdkbmknLCBlLnRhcmdldC52YWx1ZSl9IC8+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJHcmFkb1wiIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIiB2YWx1ZT17cGF0aWVudC5nZW5lcmFsSW5mby5yYW5rfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNoYW5nZSgnZ2VuZXJhbEluZm8nLCAncmFuaycsIGUudGFyZ2V0LnZhbHVlKX0gLz5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHBsYWNlaG9sZGVyPVwiRWRhZFwiIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIiB2YWx1ZT17cGF0aWVudC5nZW5lcmFsSW5mby5hZ2V9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ2hhbmdlKCdnZW5lcmFsSW5mbycsICdhZ2UnLCBlLnRhcmdldC52YWx1ZSl9IC8+XG4gICAgICAgICAgPHNlbGVjdCBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0yIGJvcmRlciByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwXCIgdmFsdWU9e3BhdGllbnQuZ2VuZXJhbEluZm8uZ2VuZGVyfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNoYW5nZSgnZ2VuZXJhbEluZm8nLCAnZ2VuZGVyJywgZS50YXJnZXQudmFsdWUpfT5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY2Npb25hciBTZXhvPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTWFzY3VsaW5vXCI+TWFzY3VsaW5vPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiRmVtZW5pbm9cIj5GZW1lbmlubzwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk90cm9cIj5PdHJvPC9vcHRpb24+XG4gICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJEaXJlY2Npw7NuIGEgbGEgcXVlIHBlcnRlbmVjZVwiIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIiB2YWx1ZT17cGF0aWVudC5nZW5lcmFsSW5mby5hZGRyZXNzfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNoYW5nZSgnZ2VuZXJhbEluZm8nLCAnYWRkcmVzcycsIGUudGFyZ2V0LnZhbHVlKX0gLz5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkFzaWduYWNpw7NuXCIgY2xhc3NOYW1lPVwidy1mdWxsIHAtMiBib3JkZXIgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiIHZhbHVlPXtwYXRpZW50LmdlbmVyYWxJbmZvLmFzc2lnbm1lbnR9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ2hhbmdlKCdnZW5lcmFsSW5mbycsICdhc3NpZ25tZW50JywgZS50YXJnZXQudmFsdWUpfSAvPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiTHVnYXIgZGUgQXNpZ25hY2nDs25cIiBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0yIGJvcmRlciByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwXCIgdmFsdWU9e3BhdGllbnQuZ2VuZXJhbEluZm8uYXNzaWdubWVudExvY2F0aW9ufSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNoYW5nZSgnZ2VuZXJhbEluZm8nLCAnYXNzaWdubWVudExvY2F0aW9uJywgZS50YXJnZXQudmFsdWUpfSAvPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiRG9uZGUgdml2ZVwiIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIiB2YWx1ZT17cGF0aWVudC5nZW5lcmFsSW5mby5yZXNpZGVuY2V9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ2hhbmdlKCdnZW5lcmFsSW5mbycsICdyZXNpZGVuY2UnLCBlLnRhcmdldC52YWx1ZSl9IC8+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJDZWx1bGFyXCIgY2xhc3NOYW1lPVwidy1mdWxsIHAtMiBib3JkZXIgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiIHZhbHVlPXtwYXRpZW50LmdlbmVyYWxJbmZvLnBob25lfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNoYW5nZSgnZ2VuZXJhbEluZm8nLCAncGhvbmUnLCBlLnRhcmdldC52YWx1ZSl9IC8+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBJbmZvcm1hY2nDs24gTcOpZGljYSAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWxnIGJvcmRlci1iIHBiLTIgbWItM1wiPkluZm9ybWFjacOzbiBNw6lkaWNhPC9oMz5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkRpYWduw7NzdGljb1wiIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIiB2YWx1ZT17cGF0aWVudC5tZWRpY2FsSW5mby5kaWFnbm9zaXN9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ2hhbmdlKCdtZWRpY2FsSW5mbycsICdkaWFnbm9zaXMnLCBlLnRhcmdldC52YWx1ZSl9IC8+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRlXCIgcGxhY2Vob2xkZXI9XCJGZWNoYSBkZSBJbmdyZXNvIGFsIEhvc3BpdGFsXCIgY2xhc3NOYW1lPVwidy1mdWxsIHAtMiBib3JkZXIgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiIHZhbHVlPXtwYXRpZW50Lm1lZGljYWxJbmZvLmFkbWlzc2lvbkRhdGV9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ2hhbmdlKCdtZWRpY2FsSW5mbycsICdhZG1pc3Npb25EYXRlJywgZS50YXJnZXQudmFsdWUpfSAvPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiTm9tYnJlIGRlbCBIb3NwaXRhbFwiIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIiB2YWx1ZT17cGF0aWVudC5tZWRpY2FsSW5mby5ob3NwaXRhbE5hbWV9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ2hhbmdlKCdtZWRpY2FsSW5mbycsICdob3NwaXRhbE5hbWUnLCBlLnRhcmdldC52YWx1ZSl9IC8+XG4gICAgICAgICAgPHNlbGVjdCBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0yIGJvcmRlciByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwXCIgdmFsdWU9e3BhdGllbnQubWVkaWNhbEluZm8ucmVhc29ufSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNoYW5nZSgnbWVkaWNhbEluZm8nLCAncmVhc29uJywgZS50YXJnZXQudmFsdWUpfT5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5Nb3Rpdm8gZGUgSW5ncmVzbzwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkVuZmVybWVkYWQgbmF0dXJhbFwiPkVuZmVybWVkYWQgbmF0dXJhbDwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkFjY2lkZW50ZSBkZSB0csOhbnNpdG9cIj5BY2NpZGVudGUgZGUgdHLDoW5zaXRvPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiT3RybyBpbmNpZGVudGVcIj5PdHJvIGluY2lkZW50ZTwvb3B0aW9uPlxuICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgIHtwYXRpZW50Lm1lZGljYWxJbmZvLnJlYXNvbiA9PT0gJ0FjY2lkZW50ZSBkZSB0csOhbnNpdG8nIHx8IHBhdGllbnQubWVkaWNhbEluZm8ucmVhc29uID09PSAnT3RybyBpbmNpZGVudGUnID8gKFxuICAgICAgICAgICAgPHRleHRhcmVhIHBsYWNlaG9sZGVyPVwiQ8OzbW8gZnVlIGVsIGFjY2lkZW50ZSBvIGluY2lkZW50ZVwiIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAgcmVzaXplLW5vbmVcIiByb3dzPVwiM1wiIHZhbHVlPXtwYXRpZW50Lm1lZGljYWxJbmZvLmFjY2lkZW50RGV0YWlsc30gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVDaGFuZ2UoJ21lZGljYWxJbmZvJywgJ2FjY2lkZW50RGV0YWlscycsIGUudGFyZ2V0LnZhbHVlKX0+PC90ZXh0YXJlYT5cbiAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIlF1acOpbiBsbyB0cmFzbGFkw7MgYWwgY2VudHJvIGFzaXN0ZW5jaWFsXCIgY2xhc3NOYW1lPVwidy1mdWxsIHAtMiBib3JkZXIgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiIHZhbHVlPXtwYXRpZW50Lm1lZGljYWxJbmZvLnRyYW5zZmVycmVkQnl9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ2hhbmdlKCdtZWRpY2FsSW5mbycsICd0cmFuc2ZlcnJlZEJ5JywgZS50YXJnZXQudmFsdWUpfSAvPlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBJbmZvcm1hY2nDs24gRmFtaWxpYXIgKi99XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1sZyBib3JkZXItYiBwYi0yIG1iLTMgbXQtNlwiPkluZm9ybWFjacOzbiBGYW1pbGlhcjwvaDM+XG4gICAgICAgICAge3BhdGllbnQuZmFtaWx5SW5mby5tYXAoKG1lbWJlciwgaW5kZXgpID0+IChcbiAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTIgbWItMlwiPlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIk5vbWJyZSBGYW1pbGlhclwiIGNsYXNzTmFtZT1cInctMS8zIHAtMiBib3JkZXIgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiIHZhbHVlPXttZW1iZXIubmFtZX0gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVGYW1pbHlDaGFuZ2UoaW5kZXgsICduYW1lJywgZS50YXJnZXQudmFsdWUpfSAvPlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIlBhcmVudGVzY29cIiBjbGFzc05hbWU9XCJ3LTEvMyBwLTIgYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIiB2YWx1ZT17bWVtYmVyLnJlbGF0aW9uc2hpcH0gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVGYW1pbHlDaGFuZ2UoaW5kZXgsICdyZWxhdGlvbnNoaXAnLCBlLnRhcmdldC52YWx1ZSl9IC8+XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiQ2VsdWxhciBGYW1pbGlhclwiIGNsYXNzTmFtZT1cInctMS8zIHAtMiBib3JkZXIgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiIHZhbHVlPXttZW1iZXIucGhvbmV9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlRmFtaWx5Q2hhbmdlKGluZGV4LCAncGhvbmUnLCBlLnRhcmdldC52YWx1ZSl9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXthZGRGYW1pbHlNZW1iZXJ9IGNsYXNzTmFtZT1cImJnLWdyYXktMjAwIHRleHQtZ3JheS04MDAgcHgtMyBweS0xIHJvdW5kZWQtbGcgaG92ZXI6YmctZ3JheS0zMDAgdHJhbnNpdGlvblwiPlxuICAgICAgICAgICAgQWdyZWdhciBGYW1pbGlhclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8YnV0dG9uIFxuICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgbXQtNiBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHB5LTMgcm91bmRlZC1sZyBob3ZlcjpiZy1ibHVlLTcwMCB0cmFuc2l0aW9uIHRleHQtbGcgZm9udC1zZW1pYm9sZFwiXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IG9uU2F2ZShwYXRpZW50KX1cbiAgICAgID5cbiAgICAgICAgR3VhcmRhciBQYWNpZW50ZVxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4vLyAvY29tcG9uZW50cy9QYXRpZW50RGV0YWlsLmpzXG5jb25zdCBQYXRpZW50RGV0YWlsID0gKHsgcGF0aWVudCwgb25VcGRhdGUsIG9uQWRkVmlzaXQgfSkgPT4ge1xuICBjb25zdCBbaXNFZGl0aW5nRGlzY2hhcmdlLCBzZXRJc0VkaXRpbmdEaXNjaGFyZ2VdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGlzY2hhcmdlSW5mbywgc2V0RGlzY2hhcmdlSW5mb10gPSB1c2VTdGF0ZSh7XG4gICAgZGlzY2hhcmdlRGF0ZTogcGF0aWVudC5tZWRpY2FsSW5mby5kaXNjaGFyZ2VEYXRlIHx8ICcnLFxuICAgIHJlY292ZXJ5VGltZTogcGF0aWVudC5tZWRpY2FsSW5mby5yZWNvdmVyeVRpbWUgfHwgJycsXG4gICAgcmVjb21tZW5kYXRpb25zOiBwYXRpZW50Lm1lZGljYWxJbmZvLnJlY29tbWVuZGF0aW9ucyB8fCAnJ1xuICB9KTtcblxuICBjb25zdCBoYW5kbGVEaXNjaGFyZ2VDaGFuZ2UgPSAoZmllbGQsIHZhbHVlKSA9PiB7XG4gICAgc2V0RGlzY2hhcmdlSW5mbyhwcmV2ID0+ICh7IC4uLnByZXYsIFtmaWVsZF06IHZhbHVlIH0pKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTYXZlRGlzY2hhcmdlID0gKCkgPT4ge1xuICAgIG9uVXBkYXRlKHtcbiAgICAgIC4uLnBhdGllbnQsXG4gICAgICBtZWRpY2FsSW5mbzoge1xuICAgICAgICAuLi5wYXRpZW50Lm1lZGljYWxJbmZvLFxuICAgICAgICAuLi5kaXNjaGFyZ2VJbmZvXG4gICAgICB9XG4gICAgfSk7XG4gICAgc2V0SXNFZGl0aW5nRGlzY2hhcmdlKGZhbHNlKTtcbiAgfTtcblxuICBpZiAoIXBhdGllbnQpIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInAtNCB0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNjAwXCI+U2VsZWNjaW9uZSB1biBwYWNpZW50ZSBwYXJhIHZlciBzdXMgZGV0YWxsZXMuPC9kaXY+O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTYgcm91bmRlZC1sZyBzaGFkb3ctbWRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtc3RhcnQgYm9yZGVyLWIgcGItNCBtYi00XCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktODAwXCI+e3BhdGllbnQuZ2VuZXJhbEluZm8ubmFtZX08L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDBcIj5ETkk6IHtwYXRpZW50LmdlbmVyYWxJbmZvLmRuaX0gfCBHcmFkbzoge3BhdGllbnQuZ2VuZXJhbEluZm8ucmFua308L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2BweC00IHB5LTEgcm91bmRlZC1mdWxsIHRleHQtc20gZm9udC1zZW1pYm9sZCAke3BhdGllbnQubWVkaWNhbEluZm8uZGlzY2hhcmdlRGF0ZSA/ICdiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi04MDAnIDogJ2JnLWJsdWUtMTAwIHRleHQtYmx1ZS04MDAnfWB9PlxuICAgICAgICAgIHtwYXRpZW50Lm1lZGljYWxJbmZvLmRpc2NoYXJnZURhdGUgPyAnQWx0YSBtw6lkaWNhJyA6ICdFbiB0cmF0YW1pZW50byd9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTYgbWItNlwiPlxuICAgICAgICB7LyogSW5mb3JtYWNpw7NuIEdlbmVyYWwgKi99XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC14bCBtYi0zIHRleHQtZ3JheS03MDBcIj5JbmZvcm1hY2nDs24gR2VuZXJhbDwvaDM+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgdGV4dC1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgPHA+PHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5FZGFkOjwvc3Bhbj4ge3BhdGllbnQuZ2VuZXJhbEluZm8uYWdlfTwvcD5cbiAgICAgICAgICAgIDxwPjxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+U2V4bzo8L3NwYW4+IHtwYXRpZW50LmdlbmVyYWxJbmZvLmdlbmRlcn08L3A+XG4gICAgICAgICAgICA8cD48c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPkRpcmVjY2nDs246PC9zcGFuPiB7cGF0aWVudC5nZW5lcmFsSW5mby5hZGRyZXNzfTwvcD5cbiAgICAgICAgICAgIDxwPjxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+QXNpZ25hY2nDs246PC9zcGFuPiB7cGF0aWVudC5nZW5lcmFsSW5mby5hc3NpZ25tZW50fSAoe3BhdGllbnQuZ2VuZXJhbEluZm8uYXNzaWdubWVudExvY2F0aW9ufSk8L3A+XG4gICAgICAgICAgICA8cD48c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlJlc2lkZW5jaWE6PC9zcGFuPiB7cGF0aWVudC5nZW5lcmFsSW5mby5yZXNpZGVuY2V9PC9wPlxuICAgICAgICAgICAgPHA+PHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5DZWx1bGFyOjwvc3Bhbj4ge3BhdGllbnQuZ2VuZXJhbEluZm8ucGhvbmV9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogSW5mb3JtYWNpw7NuIE3DqWRpY2EgKi99XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC14bCBtYi0zIHRleHQtZ3JheS03MDBcIj5JbmZvcm1hY2nDs24gTcOpZGljYTwvaDM+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgdGV4dC1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgPHA+PHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5EaWFnbsOzc3RpY286PC9zcGFuPiB7cGF0aWVudC5tZWRpY2FsSW5mby5kaWFnbm9zaXN9PC9wPlxuICAgICAgICAgICAgPHA+PHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5GZWNoYSBJbmdyZXNvOjwvc3Bhbj4ge3BhdGllbnQubWVkaWNhbEluZm8uYWRtaXNzaW9uRGF0ZX08L3A+XG4gICAgICAgICAgICA8cD48c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPkhvc3BpdGFsOjwvc3Bhbj4ge3BhdGllbnQubWVkaWNhbEluZm8uaG9zcGl0YWxOYW1lfTwvcD5cbiAgICAgICAgICAgIDxwPjxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+TW90aXZvOjwvc3Bhbj4ge3BhdGllbnQubWVkaWNhbEluZm8ucmVhc29ufTwvcD5cbiAgICAgICAgICAgIHtwYXRpZW50Lm1lZGljYWxJbmZvLmFjY2lkZW50RGV0YWlscyAmJiA8cD48c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPkRldGFsbGVzIEluY2lkZW50ZTo8L3NwYW4+IHtwYXRpZW50Lm1lZGljYWxJbmZvLmFjY2lkZW50RGV0YWlsc308L3A+fVxuICAgICAgICAgICAgPHA+PHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5UcmFzbGFkbyBwb3I6PC9zcGFuPiB7cGF0aWVudC5tZWRpY2FsSW5mby50cmFuc2ZlcnJlZEJ5fTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEluZm9ybWFjacOzbiBkZSBBbHRhICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02IGJvcmRlci10IHB0LTZcIj5cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC14bCBtYi0zIHRleHQtZ3JheS03MDBcIj5JbmZvcm1hY2nDs24gZGUgQWx0YTwvaDM+XG4gICAgICAgIHshaXNFZGl0aW5nRGlzY2hhcmdlID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgIDxwPjxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+RmVjaGEgZGUgU2FsaWRhOjwvc3Bhbj4ge3BhdGllbnQubWVkaWNhbEluZm8uZGlzY2hhcmdlRGF0ZSB8fCAnTi9BJ308L3A+XG4gICAgICAgICAgICA8cD48c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlJlcG9zby9JbmNhcGFjaWRhZDo8L3NwYW4+IHtwYXRpZW50Lm1lZGljYWxJbmZvLnJlY292ZXJ5VGltZSB8fCAnTi9BJ308L3A+XG4gICAgICAgICAgICA8cD48c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlJlY29tZW5kYWNpb25lczo8L3NwYW4+IHtwYXRpZW50Lm1lZGljYWxJbmZvLnJlY29tbWVuZGF0aW9ucyB8fCAnTi9BJ308L3A+XG4gICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0yIGJnLWJsdWUtNTAwIHRleHQtd2hpdGUgcHktMS41IHB4LTMgcm91bmRlZCBob3ZlcjpiZy1ibHVlLTYwMCB0cmFuc2l0aW9uIHRleHQtc21cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc0VkaXRpbmdEaXNjaGFyZ2UodHJ1ZSl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtwYXRpZW50Lm1lZGljYWxJbmZvLmRpc2NoYXJnZURhdGUgPyAnRWRpdGFyIEFsdGEnIDogJ1JlZ2lzdHJhciBBbHRhJ31cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBwbGFjZWhvbGRlcj1cIkZlY2hhIGRlIFNhbGlkYSAoQWx0YSlcIiBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0yIGJvcmRlciByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwXCIgdmFsdWU9e2Rpc2NoYXJnZUluZm8uZGlzY2hhcmdlRGF0ZX0gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVEaXNjaGFyZ2VDaGFuZ2UoJ2Rpc2NoYXJnZURhdGUnLCBlLnRhcmdldC52YWx1ZSl9IC8+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIlJlcG9zbyBvIEluY2FwYWNpZGFkXCIgY2xhc3NOYW1lPVwidy1mdWxsIHAtMiBib3JkZXIgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiIHZhbHVlPXtkaXNjaGFyZ2VJbmZvLnJlY292ZXJ5VGltZX0gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVEaXNjaGFyZ2VDaGFuZ2UoJ3JlY292ZXJ5VGltZScsIGUudGFyZ2V0LnZhbHVlKX0gLz5cbiAgICAgICAgICAgIDx0ZXh0YXJlYSBwbGFjZWhvbGRlcj1cIlJlY29tZW5kYWNpb25lc1wiIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAgcmVzaXplLW5vbmVcIiByb3dzPVwiM1wiIHZhbHVlPXtkaXNjaGFyZ2VJbmZvLnJlY29tbWVuZGF0aW9uc30gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVEaXNjaGFyZ2VDaGFuZ2UoJ3JlY29tbWVuZGF0aW9ucycsIGUudGFyZ2V0LnZhbHVlKX0+PC90ZXh0YXJlYT5cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTIgYmctZ3JlZW4tNTAwIHRleHQtd2hpdGUgcHktMS41IHB4LTMgcm91bmRlZCBob3ZlcjpiZy1ncmVlbi02MDAgdHJhbnNpdGlvbiB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2F2ZURpc2NoYXJnZX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgR3VhcmRhciBBbHRhXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTIgbWwtMiBiZy1ncmF5LTMwMCB0ZXh0LWdyYXktODAwIHB5LTEuNSBweC0zIHJvdW5kZWQgaG92ZXI6YmctZ3JheS00MDAgdHJhbnNpdGlvbiB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNFZGl0aW5nRGlzY2hhcmdlKGZhbHNlKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQ2FuY2VsYXJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBJbmZvcm1hY2nDs24gRmFtaWxpYXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTYgYm9yZGVyLXQgcHQtNlwiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXhsIG1iLTMgdGV4dC1ncmF5LTcwMFwiPkluZm9ybWFjacOzbiBGYW1pbGlhcjwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICB7cGF0aWVudC5mYW1pbHlJbmZvLmxlbmd0aCA+IDAgPyBwYXRpZW50LmZhbWlseUluZm8ubWFwKChtZW1iZXIsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICA8cCBrZXk9e2luZGV4fT48c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPnttZW1iZXIubmFtZX08L3NwYW4+ICh7bWVtYmVyLnJlbGF0aW9uc2hpcH0pIC0ge21lbWJlci5waG9uZX08L3A+XG4gICAgICAgICAgKSkgOiA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+Tm8gaGF5IGluZm9ybWFjacOzbiBmYW1pbGlhciByZWdpc3RyYWRhLjwvcD59XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBWaXNpdGFzIFJlZ2lzdHJhZGFzICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04IGJvcmRlci10IHB0LTZcIj5cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC14bCBtYi00IHRleHQtZ3JheS03MDBcIj5WaXNpdGFzIFJlZ2lzdHJhZGFzPC9oMz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICB7cGF0aWVudC52aXNpdHMubGVuZ3RoID4gMCA/IHBhdGllbnQudmlzaXRzLm1hcCgodmlzaXQsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImJvcmRlci1sLTQgYm9yZGVyLWJsdWUtNTAwIHBsLTQgcHktMyBiZy1ibHVlLTUwIHJvdW5kZWQtci1sZ1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi0xXCI+XG4gICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtbGcgdGV4dC1ibHVlLTgwMFwiPlZpc2l0YSAje3Zpc2l0LnZpc2l0TnVtYmVyfSAtIHt2aXNpdC52aXNpdG9yTmFtZX08L2g0PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPnt2aXNpdC5kYXRlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDAgdGV4dC1zbSBtYi0xXCI+R3JhZG86IHt2aXNpdC52aXNpdG9yUmFua30gfCBEaXJlY2Npw7NuOiB7dmlzaXQudmlzaXRvckFkZHJlc3N9PC9wPlxuICAgICAgICAgICAgICB7dmlzaXQuY29tcGFuaW9ucyAmJiB2aXNpdC5jb21wYW5pb25zLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDAgdGV4dC1zbSBtYi0xXCI+QWNvbXBhw7FhbnRlczoge3Zpc2l0LmNvbXBhbmlvbnMuam9pbignLCAnKX08L3A+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDAgdGV4dC1zbSBtYi0xXCI+PHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5HZXN0aW9uZXMgUmVhbGl6YWRhczo8L3NwYW4+IHt2aXNpdC5hY3Rpb25zVGFrZW4gfHwgJ04vQSd9PC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNzAwIHRleHQtc20gbWItMVwiPjxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+R2VzdGlvbmVzIFBlbmRpZW50ZXM6PC9zcGFuPiB7dmlzaXQuYWN0aW9uc1BlbmRpbmcgfHwgJ04vQSd9PC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNzAwIHRleHQtc21cIj57dmlzaXQubm90ZXN9PC9wPlxuICAgICAgICAgICAgICB7dmlzaXQucGhvdG9zICYmIHZpc2l0LnBob3Rvcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgIHt2aXNpdC5waG90b3MubWFwKChwaG90bywgcEluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxpbWcga2V5PXtwSW5kZXh9IHNyYz17VVJMLmNyZWF0ZU9iamVjdFVSTChwaG90byl9IGFsdD17YFZpc2l0YSAke3Zpc2l0LnZpc2l0TnVtYmVyfSBGb3RvICR7cEluZGV4ICsgMX1gfSBjbGFzc05hbWU9XCJ3LTIwIGgtMjAgb2JqZWN0LWNvdmVyIHJvdW5kZWQtbWQgc2hhZG93XCIgLz5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSkgOiA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+Tm8gaGF5IHZpc2l0YXMgcmVnaXN0cmFkYXMgcGFyYSBlc3RlIHBhY2llbnRlLjwvcD59XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxWaXNpdEZvcm0gXG4gICAgICAgICAgcGF0aWVudElkPXtwYXRpZW50LmlkfSBcbiAgICAgICAgICBvblNhdmU9eyhuZXdWaXNpdCkgPT4gb25BZGRWaXNpdChwYXRpZW50LmlkLCBuZXdWaXNpdCl9IFxuICAgICAgICAgIGxhc3RWaXNpdE51bWJlcj17cGF0aWVudC52aXNpdHMubGVuZ3RoID4gMCA/IHBhdGllbnQudmlzaXRzW3BhdGllbnQudmlzaXRzLmxlbmd0aCAtIDFdLnZpc2l0TnVtYmVyIDogMH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gRE9ORVxuXG4vLyAvQXBwLmpzXG5jb25zdCBBcHAgPSAoKSA9PiB7XG4gIGNvbnN0IFtwYXRpZW50cywgc2V0UGF0aWVudHNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbc2VsZWN0ZWRQYXRpZW50LCBzZXRTZWxlY3RlZFBhdGllbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFthY3RpdmVUYWIsIHNldEFjdGl2ZVRhYl0gPSB1c2VTdGF0ZSgnbGlzdCcpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0UGF0aWVudHMoZ2V0UGF0aWVudHMoKSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVTYXZlUGF0aWVudCA9IChuZXdQYXRpZW50KSA9PiB7XG4gICAgY29uc3QgdXBkYXRlZFBhdGllbnRzID0gYWRkUGF0aWVudChuZXdQYXRpZW50KTtcbiAgICBzZXRQYXRpZW50cyh1cGRhdGVkUGF0aWVudHMpO1xuICAgIHNldEFjdGl2ZVRhYignbGlzdCcpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVVwZGF0ZVBhdGllbnQgPSAodXBkYXRlZFBhdGllbnQpID0+IHtcbiAgICBjb25zdCB1cGRhdGVkUGF0aWVudHMgPSB1cGRhdGVQYXRpZW50KHVwZGF0ZWRQYXRpZW50KTtcbiAgICBzZXRQYXRpZW50cyh1cGRhdGVkUGF0aWVudHMpO1xuICAgIHNldFNlbGVjdGVkUGF0aWVudCh1cGRhdGVkUGF0aWVudCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQWRkVmlzaXQgPSAocGF0aWVudElkLCBuZXdWaXNpdCkgPT4ge1xuICAgIGNvbnN0IHBhdGllbnQgPSBwYXRpZW50cy5maW5kKHAgPT4gcC5pZCA9PT0gcGF0aWVudElkKTtcbiAgICBpZiAocGF0aWVudCkge1xuICAgICAgY29uc3QgdXBkYXRlZFBhdGllbnQgPSB7XG4gICAgICAgIC4uLnBhdGllbnQsXG4gICAgICAgIHZpc2l0czogWy4uLnBhdGllbnQudmlzaXRzLCB7IC4uLm5ld1Zpc2l0LCBpZDogcGF0aWVudC52aXNpdHMubGVuZ3RoICsgMSB9XSAvLyBBc2VndXJhIElEIMO6bmljbyBwYXJhIGxhIHZpc2l0YVxuICAgICAgfTtcbiAgICAgIGhhbmRsZVVwZGF0ZVBhdGllbnQodXBkYXRlZFBhdGllbnQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVEZWxldGVQYXRpZW50ID0gKHBhdGllbnRJZCkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZWRQYXRpZW50cyA9IGRlbGV0ZVBhdGllbnQocGF0aWVudElkKTtcbiAgICBzZXRQYXRpZW50cyh1cGRhdGVkUGF0aWVudHMpO1xuICAgIHNldFNlbGVjdGVkUGF0aWVudChudWxsKTtcbiAgICBzZXRBY3RpdmVUYWIoJ2xpc3QnKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTBcIj5cbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiYmctYmx1ZS03MDAgdGV4dC13aGl0ZSBwLTQgc2hhZG93LW1kIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgey8qIEVzcGFjaW8gcGFyYSBlbCBsb2dvICovfVxuICAgICAgICAgIHsvKiBQdWVkZXMgcmVlbXBsYXphciBlc3RlIGRpdiBjb24gdW5hIGV0aXF1ZXRhIDxpbWc+IHNpIHRpZW5lcyBsYSBVUkwgZGlyZWN0YSBkZWwgbG9nbyAqL31cbiAgICAgICAgICB7LyogUG9yIGVqZW1wbG86IDxpbWcgc3JjPVwiVVJMX0RFX1RVX0xPR08ucG5nXCIgYWx0PVwiTG9nbyBCaWVuZXN0YXIgU29jaWFsXCIgY2xhc3NOYW1lPVwidy0xMCBoLTEwIG1yLTNcIiAvPiAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAgaC0xMCBtci0zIGJnLXdoaXRlIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ibHVlLTcwMCBmb250LWJvbGQgdGV4dC1sZ1wiPkJTPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIGxlYWRpbmctdGlnaHRcIj5EaXJlY2Npw7NuIGRlIEJpZW5lc3RhciBTb2NpYWw8L2gxPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBvcGFjaXR5LTkwXCI+RGVwYXJ0YW1lbnRvIGRlIFNlZ3VyaWRhZCBTb2NpYWw8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIDxOYXZpZ2F0aW9uIGFjdGl2ZVRhYj17YWN0aXZlVGFifSBzZXRBY3RpdmVUYWI9e3NldEFjdGl2ZVRhYn0gLz5cblxuICAgICAgPG1haW4gY2xhc3NOYW1lPVwiY29udGFpbmVyIG14LWF1dG8gcC00XCI+XG4gICAgICAgIHthY3RpdmVUYWIgPT09ICdsaXN0JyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIGxnOmdyaWQtY29scy0zIGdhcC02XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxnOmNvbC1zcGFuLTFcIj5cbiAgICAgICAgICAgICAgPFBhdGllbnRMaXN0IFxuICAgICAgICAgICAgICAgIHBhdGllbnRzPXtwYXRpZW50c30gXG4gICAgICAgICAgICAgICAgb25TZWxlY3Q9e3BhdGllbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRQYXRpZW50KHBhdGllbnQpO1xuICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlVGFiKCdkZXRhaWwnKTtcbiAgICAgICAgICAgICAgICB9fSBcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge3NlbGVjdGVkUGF0aWVudCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGc6Y29sLXNwYW4tMlwiPlxuICAgICAgICAgICAgICAgIDxQYXRpZW50RGV0YWlsIFxuICAgICAgICAgICAgICAgICAgcGF0aWVudD17c2VsZWN0ZWRQYXRpZW50fSBcbiAgICAgICAgICAgICAgICAgIG9uVXBkYXRlPXtoYW5kbGVVcGRhdGVQYXRpZW50fVxuICAgICAgICAgICAgICAgICAgb25BZGRWaXNpdD17aGFuZGxlQWRkVmlzaXR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtNCBiZy1yZWQtNjAwIHRleHQtd2hpdGUgcHktMiBweC00IHJvdW5kZWQgaG92ZXI6YmctcmVkLTcwMCB0cmFuc2l0aW9uXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZURlbGV0ZVBhdGllbnQoc2VsZWN0ZWRQYXRpZW50LmlkKX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBFbGltaW5hciBQYWNpZW50ZVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAge2FjdGl2ZVRhYiA9PT0gJ25ldycgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNHhsIG14LWF1dG9cIj5cbiAgICAgICAgICAgIDxQYXRpZW50Rm9ybSBvblNhdmU9e2hhbmRsZVNhdmVQYXRpZW50fSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHthY3RpdmVUYWIgPT09ICdyZXBvcnRzJyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy00eGwgbXgtYXV0b1wiPlxuICAgICAgICAgICAgPFJlcG9ydHNQYW5lbCBwYXRpZW50cz17cGF0aWVudHN9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L21haW4+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4vLyBET05FXG5cbiAgICAgIGNvbnN0IHJvb3QgPSBjcmVhdGVSb290KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vdFwiKSk7XG4gICAgICAgICAgICByb290LnJlbmRlcihcbiAgICAgICAgICAgICAgPFN0cmljdE1vZGU+XG4gICAgICAgICAgICAgICAgPEFwcCAvPlxuICAgICAgICAgICAgICA8L1N0cmljdE1vZGU+XG4gICAgICAgICAgICApO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxJQUFBQSxNQUFBLEdBQXdGQyxLQUFLO0VBQXJGQyxRQUFRLEdBQUFGLE1BQUEsQ0FBUkUsUUFBUTtFQUFFQyxTQUFTLEdBQUFILE1BQUEsQ0FBVEcsU0FBUztFQUFFQyxNQUFNLEdBQUFKLE1BQUEsQ0FBTkksTUFBTTtFQUFFQyxPQUFPLEdBQUFMLE1BQUEsQ0FBUEssT0FBTztFQUFFQyxhQUFhLEdBQUFOLE1BQUEsQ0FBYk0sYUFBYTtFQUFFQyxVQUFVLEdBQUFQLE1BQUEsQ0FBVk8sVUFBVTtFQUFFQyxVQUFVLEdBQUFSLE1BQUEsQ0FB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</script></head>
        <body>
          <div id="root"><div class="min-h-screen bg-gray-50"><header class="bg-blue-700 text-white p-4 shadow-md flex items-center justify-between"><div class="flex items-center"><div class="w-10 h-10 mr-3 bg-white rounded-full flex items-center justify-center"><span class="text-blue-700 font-bold text-lg">BS</span></div><div><h1 class="text-2xl font-bold leading-tight">Dirección de Bienestar Social</h1><p class="text-sm opacity-90">Departamento de Seguridad Social</p></div></div></header><div class="bg-white shadow-sm"><div class="flex border-b"><button class="px-4 py-3 font-medium text-sm text-blue-600 border-b-2 border-blue-600">Lista de Pacientes</button><button class="px-4 py-3 font-medium text-sm text-gray-500 hover:text-gray-700">Nuevo Paciente</button><button class="px-4 py-3 font-medium text-sm text-gray-500 hover:text-gray-700">Reportes</button></div></div><main class="container mx-auto p-4"><div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-1"><div class="bg-white rounded-lg shadow-md overflow-hidden"><div class="p-4 bg-gray-100 border-b"><h2 class="text-lg font-semibold mb-3">Listado de Pacientes</h2><input type="text" placeholder="Buscar por nombre, DNI o diagnóstico..." class="w-full p-2 border rounded-lg mb-3 focus:ring-2 focus:ring-blue-500" value=""><div class="flex space-x-2"><button class="px-4 py-2 rounded-lg text-sm font-medium bg-blue-600 text-white">Todos</button><button class="px-4 py-2 rounded-lg text-sm font-medium bg-gray-200 text-gray-700 hover:bg-gray-300">Internos</button><button class="px-4 py-2 rounded-lg text-sm font-medium bg-gray-200 text-gray-700 hover:bg-gray-300">Dados de Alta</button></div></div><div class="divide-y max-h-96 overflow-y-auto"><p class="p-4 text-center text-gray-500">No se encontraron pacientes.</p></div></div></div></div></main></div></div>

          <script type="text/babel">
const { useState, useEffect, useRef, useMemo, createContext, useContext, StrictMode } = React;
            const { createRoot } = ReactDOM;

            // /components/PhotoUpload.js
const PhotoUpload = ({ onUpload }) => {
  const [photos, setPhotos] = useState([]);

  const handleFileChange = (e) => {
    const files = Array.from(e.target.files);
    setPhotos(files);
  };

  return (
    <div className="mt-4">
      <label className="block text-sm font-medium text-gray-700 mb-1">Fotografías</label>
      <input
        type="file"
        multiple
        onChange={handleFileChange}
        className="block w-full text-sm text-gray-500
          file:mr-4 file:py-2 file:px-4
          file:rounded-md file:border-0
          file:text-sm file:font-semibold
          file:bg-blue-50 file:text-blue-700
          hover:file:bg-blue-100"
      />
      <button
        className="mt-2 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition"
        onClick={() => onUpload(photos)}
      >
        Subir Fotos
      </button>
    </div>
  );
};

// /components/Navigation.js
const Navigation = ({ activeTab, setActiveTab }) => {
  const tabs = [
    { id: 'list', label: 'Lista de Pacientes' },
    { id: 'new', label: 'Nuevo Paciente' },
    { id: 'reports', label: 'Reportes' }
  ];

  return (
    <div className="bg-white shadow-sm">
      <div className="flex border-b">
        {tabs.map(tab => (
          <button
            key={tab.id}
            className={`px-4 py-3 font-medium text-sm ${activeTab === tab.id ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-500 hover:text-gray-700'}`}
            onClick={() => setActiveTab(tab.id)}
          >
            {tab.label}
          </button>
        ))}
      </div>
    </div>
  );
};

// /components/ReportsPanel.js
const ReportsPanel = ({ patients }) => {
  const internalPatients = patients.filter(p => !p.medicalInfo.dischargeDate);
  const dischargedPatients = patients.filter(p => p.medicalInfo.dischargeDate);

  const handlePrint = () => {
    window.print();
  };

  return (
    <div className="bg-white p-4 rounded-lg shadow">
      <h2 className="text-lg font-semibold mb-4">Reportes</h2>
      <div className="grid grid-cols-3 gap-4 mb-6">
        <div className="bg-blue-50 p-3 rounded">
          <p className="text-sm text-blue-600">Total Pacientes</p>
          <p className="text-2xl font-bold">{patients.length}</p>
        </div>
        <div className="bg-green-50 p-3 rounded">
          <p className="text-sm text-green-600">Altas Médicas</p>
          <p className="text-2xl font-bold">{dischargedPatients.length}</p>
        </div>
        <div className="bg-yellow-50 p-3 rounded">
          <p className="text-sm text-yellow-600">Pacientes Internos</p>
          <p className="text-2xl font-bold">{internalPatients.length}</p>
        </div>
      </div>

      <div className="mb-6">
        <h3 className="font-semibold text-lg mb-3">Pacientes Internos</h3>
        {internalPatients.length > 0 ? (
          <ul className="list-disc pl-5 space-y-1">
            {internalPatients.map(patient => (
              <li key={patient.id} className="text-gray-700">
                {patient.generalInfo.name} - {patient.medicalInfo.diagnosis} (Ingreso: {patient.medicalInfo.admissionDate})
              </li>
            ))}
          </ul>
        ) : (
          <p className="text-gray-500">No hay pacientes internos actualmente.</p>
        )}
      </div>

      <div className="mb-6">
        <h3 className="font-semibold text-lg mb-3">Pacientes con Alta Médica</h3>
        {dischargedPatients.length > 0 ? (
          <ul className="list-disc pl-5 space-y-1">
            {dischargedPatients.map(patient => (
              <li key={patient.id} className="text-gray-700">
                {patient.generalInfo.name} - {patient.medicalInfo.diagnosis} (Alta: {patient.medicalInfo.dischargeDate || 'N/A'})
              </li>
            ))}
          </ul>
        ) : (
          <p className="text-gray-500">No hay pacientes con alta médica registrada.</p>
        )}
      </div>

      <button 
        className="mt-4 bg-gray-800 text-white py-2 px-4 rounded hover:bg-gray-900 transition"
        onClick={handlePrint}
      >
        Imprimir Reporte
      </button>
    </div>
  );
};

// /components/PatientList.js
const PatientList = ({ patients, onSelect }) => {
  const [searchTerm, setSearchTerm] = useState('');
  const [filterStatus, setFilterStatus] = useState('all'); // 'all', 'internal', 'discharged'

  const filteredPatients = patients.filter(patient => {
    const matchesSearch = patient.generalInfo.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                          patient.generalInfo.dni.toLowerCase().includes(searchTerm.toLowerCase()) ||
                          patient.medicalInfo.diagnosis.toLowerCase().includes(searchTerm.toLowerCase());
    
    const matchesStatus = filterStatus === 'all' ||
                          (filterStatus === 'internal' && !patient.medicalInfo.dischargeDate) ||
                          (filterStatus === 'discharged' && patient.medicalInfo.dischargeDate);
    
    return matchesSearch && matchesStatus;
  });

  return (
    <div className="bg-white rounded-lg shadow-md overflow-hidden">
      <div className="p-4 bg-gray-100 border-b">
        <h2 className="text-lg font-semibold mb-3">Listado de Pacientes</h2>
        <input
          type="text"
          placeholder="Buscar por nombre, DNI o diagnóstico..."
          className="w-full p-2 border rounded-lg mb-3 focus:ring-2 focus:ring-blue-500"
          value={searchTerm}
          onChange={(e) => setSearchTerm(e.target.value)}
        />
        <div className="flex space-x-2">
          <button
            className={`px-4 py-2 rounded-lg text-sm font-medium ${filterStatus === 'all' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`}
            onClick={() => setFilterStatus('all')}
          >
            Todos
          </button>
          <button
            className={`px-4 py-2 rounded-lg text-sm font-medium ${filterStatus === 'internal' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`}
            onClick={() => setFilterStatus('internal')}
          >
            Internos
          </button>
          <button
            className={`px-4 py-2 rounded-lg text-sm font-medium ${filterStatus === 'discharged' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`}
            onClick={() => setFilterStatus('discharged')}
          >
            Dados de Alta
          </button>
        </div>
      </div>
      <div className="divide-y max-h-96 overflow-y-auto">
        {filteredPatients.length > 0 ? (
          filteredPatients.map(patient => (
            <div 
              key={patient.id} 
              className="p-4 hover:bg-gray-50 cursor-pointer"
              onClick={() => onSelect(patient)}
            >
              <div className="flex justify-between items-center">
                <h3 className="font-medium text-gray-800">{patient.generalInfo.name}</h3>
                <span className="text-sm text-gray-500">{patient.generalInfo.dni}</span>
              </div>
              <p className="text-sm text-gray-600">{patient.medicalInfo.diagnosis}</p>
              <span className={`text-xs font-semibold px-2 py-0.5 rounded-full ${patient.medicalInfo.dischargeDate ? 'bg-green-100 text-green-800' : 'bg-blue-100 text-blue-800'}`}>
                {patient.medicalInfo.dischargeDate ? 'Alta' : 'Interno'}
              </span>
            </div>
          ))
        ) : (
          <p className="p-4 text-center text-gray-500">No se encontraron pacientes.</p>
        )}
      </div>
    </div>
  );
};

// /components/VisitForm.js
const VisitForm = ({ patientId, onSave, lastVisitNumber }) => {
  const [visit, setVisit] = useState({
    visitorName: '',
    visitorRank: '',
    visitorAddress: '',
    companions: [''],
    date: new Date().toISOString().split('T')[0],
    notes: '',
    actionsTaken: '', // Nuevo campo: Gestiones Realizadas
    actionsPending: '', // Nuevo campo: Gestiones Pendientes
    photos: [],
    visitNumber: lastVisitNumber + 1
  });

  const handleChange = (field, value) => {
    setVisit(prev => ({ ...prev, [field]: value }));
  };

  const handleCompanionChange = (index, value) => {
    const newCompanions = [...visit.companions];
    newCompanions[index] = value;
    setVisit(prev => ({ ...prev, companions: newCompanions }));
  };

  const addCompanion = () => {
    setVisit(prev => ({ ...prev, companions: [...prev.companions, ''] }));
  };

  const handlePhotoUpload = (uploadedPhotos) => {
    setVisit(prev => ({ ...prev, photos: [...prev.photos, ...uploadedPhotos] }));
  };

  const handleSubmit = () => {
    onSave(visit);
    setVisit({
      visitorName: '',
      visitorRank: '',
      visitorAddress: '',
      companions: [''],
      date: new Date().toISOString().split('T')[0],
      notes: '',
      actionsTaken: '',
      actionsPending: '',
      photos: [],
      visitNumber: lastVisitNumber + 2
    });
  };

  return (
    <div className="bg-gray-50 p-4 rounded-lg shadow-inner mt-6">
      <h3 className="font-semibold text-xl mb-4 text-gray-700">Registrar Nueva Visita</h3>
      <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label className="block text-sm font-medium text-gray-700">Nombre del Visitante</label>
          <input type="text" placeholder="Nombre" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={visit.visitorName} onChange={(e) => handleChange('visitorName', e.target.value)} />
        </div>
        <div>
          <label className="block text-sm font-medium text-gray-700">Grado del Visitante</label>
          <input type="text" placeholder="Grado" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={visit.visitorRank} onChange={(e) => handleChange('visitorRank', e.target.value)} />
        </div>
        <div className="md:col-span-2">
          <label className="block text-sm font-medium text-gray-700">Dirección del Visitante</label>
          <input type="text" placeholder="Dirección" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={visit.visitorAddress} onChange={(e) => handleChange('visitorAddress', e.target.value)} />
        </div>
        <div className="md:col-span-2">
          <label className="block text-sm font-medium text-gray-700">Acompañantes</label>
          {visit.companions.map((companion, index) => (
            <input key={index} type="text" placeholder={`Acompañante ${index + 1}`} className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 mb-2" value={companion} onChange={(e) => handleCompanionChange(index, e.target.value)} />
          ))}
          <button type="button" onClick={addCompanion} className="bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition text-sm">
            Agregar Acompañante
          </button>
        </div>
        <div>
          <label className="block text-sm font-medium text-gray-700">Fecha de la Visita</label>
          <input type="date" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={visit.date} onChange={(e) => handleChange('date', e.target.value)} />
        </div>
        <div className="md:col-span-2">
          <label className="block text-sm font-medium text-gray-700">Notas de la Visita</label>
          <textarea placeholder="Notas de la visita" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 resize-none" rows="3" value={visit.notes} onChange={(e) => handleChange('notes', e.target.value)}></textarea>
        </div>
        <div className="md:col-span-2">
          <label className="block text-sm font-medium text-gray-700">Gestiones Realizadas</label>
          <textarea placeholder="Gestiones realizadas durante la visita" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 resize-none" rows="3" value={visit.actionsTaken} onChange={(e) => handleChange('actionsTaken', e.target.value)}></textarea>
        </div>
        <div className="md:col-span-2">
          <label className="block text-sm font-medium text-gray-700">Gestiones Pendientes</label>
          <textarea placeholder="Gestiones pendientes para la mejora del paciente" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 resize-none" rows="3" value={visit.actionsPending} onChange={(e) => handleChange('actionsPending', e.target.value)}></textarea>
        </div>
      </div>
      
      <PhotoUpload onUpload={handlePhotoUpload} />

      <button
        className="w-full mt-6 bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition text-lg font-semibold"
        onClick={handleSubmit}
      >
        Registrar Visita #{visit.visitNumber}
      </button>
    </div>
  );
};

// /mock/patients.js
const patients = [
  {
    id: 1,
    generalInfo: {
      name: "Juan Pérez",
      dni: "12345678",
      rank: "Sargento",
      age: 35,
      gender: "Masculino",
      address: "Av. Principal 123",
      assignment: "Cardiología",
      assignmentLocation: "Hospital Central",
      residence: "Colonia del Valle",
      phone: "987654321"
    },
    medicalInfo: {
      diagnosis: "Hipertensión arterial",
      admissionDate: "2023-05-15",
      hospitalName: "Hospital General del Sur", // Nuevo campo
      reason: "Enfermedad natural",
      accidentDetails: "",
      transferredBy: "Familiares",
      dischargeDate: "", // Nuevo campo
      recoveryTime: "", // Nuevo campo
      recommendations: "" // Nuevo campo
    },
    familyInfo: [
      {
        name: "María Pérez",
        relationship: "Esposa",
        phone: "987123456"
      }
    ],
    visits: [
      {
        id: 1,
        visitorName: "Dra. Ana López",
        visitorRank: "Médico residente",
        visitorAddress: "Clínica San Juan",
        companions: ["Enfermero Carlos"],
        date: "2023-05-16",
        notes: "Paciente estable, continuar tratamiento",
        actionsTaken: "Revisión de signos vitales, ajuste de medicación.", // Nuevo campo
        actionsPending: "Esperar resultados de laboratorio, programar consulta con especialista.", // Nuevo campo
        photos: [],
        visitNumber: 1
      }
    ]
  }
];

// /utils/storage.js
const savePatients = (patients) => {
  localStorage.setItem('patients', JSON.stringify(patients));
};

const getPatients = () => {
  return JSON.parse(localStorage.getItem('patients')) || [];
};

const addPatient = (newPatient) => {
  const patients = getPatients();
  const updatedPatients = [...patients, { ...newPatient, id: Date.now() }];
  savePatients(updatedPatients);
  return updatedPatients;
};

const updatePatient = (updatedPatient) => {
  const patients = getPatients();
  const updatedPatients = patients.map(p => 
    p.id === updatedPatient.id ? updatedPatient : p
  );
  savePatients(updatedPatients);
  return updatedPatients;
};

const deletePatient = (patientId) => {
  const patients = getPatients();
  const updatedPatients = patients.filter(p => p.id !== patientId);
  savePatients(updatedPatients);
  return updatedPatients;
};
// DONE

// /components/PatientForm.js
const PatientForm = ({ onSave }) => {
  const [patient, setPatient] = useState({
    generalInfo: {
      name: '',
      dni: '',
      rank: '',
      age: '',
      gender: '',
      address: '',
      assignment: '',
      assignmentLocation: '',
      residence: '',
      phone: ''
    },
    medicalInfo: {
      diagnosis: '',
      admissionDate: '',
      hospitalName: '',
      reason: '',
      accidentDetails: '',
      transferredBy: '',
      // Campos de alta no se inicializan aquí, se llenarán al dar de alta
      dischargeDate: '', 
      recoveryTime: '',
      recommendations: ''
    },
    familyInfo: [{ name: '', relationship: '', phone: '' }],
    visits: []
  });

  const handleChange = (section, field, value) => {
    setPatient(prev => ({
      ...prev,
      [section]: {
        ...prev[section],
        [field]: value
      }
    }));
  };

  const handleFamilyChange = (index, field, value) => {
    const newFamilyInfo = [...patient.familyInfo];
    newFamilyInfo[index][field] = value;
    setPatient(prev => ({ ...prev, familyInfo: newFamilyInfo }));
  };

  const addFamilyMember = () => {
    setPatient(prev => ({
      ...prev,
      familyInfo: [...prev.familyInfo, { name: '', relationship: '', phone: '' }]
    }));
  };

  return (
    <div className="bg-white p-6 rounded-lg shadow-md">
      <h2 className="text-xl font-bold mb-4">Datos del Paciente</h2>
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        {/* Información General */}
        <div className="space-y-4">
          <h3 className="font-semibold text-lg border-b pb-2 mb-3">Información General</h3>
          <input type="text" placeholder="Nombre completo" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={patient.generalInfo.name} onChange={(e) => handleChange('generalInfo', 'name', e.target.value)} />
          <input type="text" placeholder="DNI" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={patient.generalInfo.dni} onChange={(e) => handleChange('generalInfo', 'dni', e.target.value)} />
          <input type="text" placeholder="Grado" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={patient.generalInfo.rank} onChange={(e) => handleChange('generalInfo', 'rank', e.target.value)} />
          <input type="number" placeholder="Edad" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={patient.generalInfo.age} onChange={(e) => handleChange('generalInfo', 'age', e.target.value)} />
          <select className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={patient.generalInfo.gender} onChange={(e) => handleChange('generalInfo', 'gender', e.target.value)}>
            <option value="">Seleccionar Sexo</option>
            <option value="Masculino">Masculino</option>
            <option value="Femenino">Femenino</option>
            <option value="Otro">Otro</option>
          </select>
          <input type="text" placeholder="Dirección a la que pertenece" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={patient.generalInfo.address} onChange={(e) => handleChange('generalInfo', 'address', e.target.value)} />
          <input type="text" placeholder="Asignación" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={patient.generalInfo.assignment} onChange={(e) => handleChange('generalInfo', 'assignment', e.target.value)} />
          <input type="text" placeholder="Lugar de Asignación" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={patient.generalInfo.assignmentLocation} onChange={(e) => handleChange('generalInfo', 'assignmentLocation', e.target.value)} />
          <input type="text" placeholder="Donde vive" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={patient.generalInfo.residence} onChange={(e) => handleChange('generalInfo', 'residence', e.target.value)} />
          <input type="text" placeholder="Celular" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={patient.generalInfo.phone} onChange={(e) => handleChange('generalInfo', 'phone', e.target.value)} />
        </div>

        {/* Información Médica */}
        <div className="space-y-4">
          <h3 className="font-semibold text-lg border-b pb-2 mb-3">Información Médica</h3>
          <input type="text" placeholder="Diagnóstico" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={patient.medicalInfo.diagnosis} onChange={(e) => handleChange('medicalInfo', 'diagnosis', e.target.value)} />
          <input type="date" placeholder="Fecha de Ingreso al Hospital" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={patient.medicalInfo.admissionDate} onChange={(e) => handleChange('medicalInfo', 'admissionDate', e.target.value)} />
          <input type="text" placeholder="Nombre del Hospital" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={patient.medicalInfo.hospitalName} onChange={(e) => handleChange('medicalInfo', 'hospitalName', e.target.value)} />
          <select className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={patient.medicalInfo.reason} onChange={(e) => handleChange('medicalInfo', 'reason', e.target.value)}>
            <option value="">Motivo de Ingreso</option>
            <option value="Enfermedad natural">Enfermedad natural</option>
            <option value="Accidente de tránsito">Accidente de tránsito</option>
            <option value="Otro incidente">Otro incidente</option>
          </select>
          {patient.medicalInfo.reason === 'Accidente de tránsito' || patient.medicalInfo.reason === 'Otro incidente' ? (
            <textarea placeholder="Cómo fue el accidente o incidente" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 resize-none" rows="3" value={patient.medicalInfo.accidentDetails} onChange={(e) => handleChange('medicalInfo', 'accidentDetails', e.target.value)}></textarea>
          ) : null}
          <input type="text" placeholder="Quién lo trasladó al centro asistencial" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={patient.medicalInfo.transferredBy} onChange={(e) => handleChange('medicalInfo', 'transferredBy', e.target.value)} />
          
          {/* Información Familiar */}
          <h3 className="font-semibold text-lg border-b pb-2 mb-3 mt-6">Información Familiar</h3>
          {patient.familyInfo.map((member, index) => (
            <div key={index} className="flex space-x-2 mb-2">
              <input type="text" placeholder="Nombre Familiar" className="w-1/3 p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={member.name} onChange={(e) => handleFamilyChange(index, 'name', e.target.value)} />
              <input type="text" placeholder="Parentesco" className="w-1/3 p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={member.relationship} onChange={(e) => handleFamilyChange(index, 'relationship', e.target.value)} />
              <input type="text" placeholder="Celular Familiar" className="w-1/3 p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={member.phone} onChange={(e) => handleFamilyChange(index, 'phone', e.target.value)} />
            </div>
          ))}
          <button type="button" onClick={addFamilyMember} className="bg-gray-200 text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-300 transition">
            Agregar Familiar
          </button>
        </div>
      </div>

      <button 
        className="w-full mt-6 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition text-lg font-semibold"
        onClick={() => onSave(patient)}
      >
        Guardar Paciente
      </button>
    </div>
  );
};

// /components/PatientDetail.js
const PatientDetail = ({ patient, onUpdate, onAddVisit }) => {
  const [isEditingDischarge, setIsEditingDischarge] = useState(false);
  const [dischargeInfo, setDischargeInfo] = useState({
    dischargeDate: patient.medicalInfo.dischargeDate || '',
    recoveryTime: patient.medicalInfo.recoveryTime || '',
    recommendations: patient.medicalInfo.recommendations || ''
  });

  const handleDischargeChange = (field, value) => {
    setDischargeInfo(prev => ({ ...prev, [field]: value }));
  };

  const handleSaveDischarge = () => {
    onUpdate({
      ...patient,
      medicalInfo: {
        ...patient.medicalInfo,
        ...dischargeInfo
      }
    });
    setIsEditingDischarge(false);
  };

  if (!patient) return <div className="p-4 text-center text-gray-600">Seleccione un paciente para ver sus detalles.</div>;

  return (
    <div className="bg-white p-6 rounded-lg shadow-md">
      <div className="flex justify-between items-start border-b pb-4 mb-4">
        <div>
          <h2 className="text-2xl font-bold text-gray-800">{patient.generalInfo.name}</h2>
          <p className="text-gray-600">DNI: {patient.generalInfo.dni} | Grado: {patient.generalInfo.rank}</p>
        </div>
        <span className={`px-4 py-1 rounded-full text-sm font-semibold ${patient.medicalInfo.dischargeDate ? 'bg-green-100 text-green-800' : 'bg-blue-100 text-blue-800'}`}>
          {patient.medicalInfo.dischargeDate ? 'Alta médica' : 'En tratamiento'}
        </span>
      </div>

      <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        {/* Información General */}
        <div>
          <h3 className="font-semibold text-xl mb-3 text-gray-700">Información General</h3>
          <div className="space-y-2 text-gray-700">
            <p><span className="font-medium">Edad:</span> {patient.generalInfo.age}</p>
            <p><span className="font-medium">Sexo:</span> {patient.generalInfo.gender}</p>
            <p><span className="font-medium">Dirección:</span> {patient.generalInfo.address}</p>
            <p><span className="font-medium">Asignación:</span> {patient.generalInfo.assignment} ({patient.generalInfo.assignmentLocation})</p>
            <p><span className="font-medium">Residencia:</span> {patient.generalInfo.residence}</p>
            <p><span className="font-medium">Celular:</span> {patient.generalInfo.phone}</p>
          </div>
        </div>

        {/* Información Médica */}
        <div>
          <h3 className="font-semibold text-xl mb-3 text-gray-700">Información Médica</h3>
          <div className="space-y-2 text-gray-700">
            <p><span className="font-medium">Diagnóstico:</span> {patient.medicalInfo.diagnosis}</p>
            <p><span className="font-medium">Fecha Ingreso:</span> {patient.medicalInfo.admissionDate}</p>
            <p><span className="font-medium">Hospital:</span> {patient.medicalInfo.hospitalName}</p>
            <p><span className="font-medium">Motivo:</span> {patient.medicalInfo.reason}</p>
            {patient.medicalInfo.accidentDetails && <p><span className="font-medium">Detalles Incidente:</span> {patient.medicalInfo.accidentDetails}</p>}
            <p><span className="font-medium">Traslado por:</span> {patient.medicalInfo.transferredBy}</p>
          </div>
        </div>
      </div>

      {/* Información de Alta */}
      <div className="mb-6 border-t pt-6">
        <h3 className="font-semibold text-xl mb-3 text-gray-700">Información de Alta</h3>
        {!isEditingDischarge ? (
          <div className="space-y-2 text-gray-700">
            <p><span className="font-medium">Fecha de Salida:</span> {patient.medicalInfo.dischargeDate || 'N/A'}</p>
            <p><span className="font-medium">Reposo/Incapacidad:</span> {patient.medicalInfo.recoveryTime || 'N/A'}</p>
            <p><span className="font-medium">Recomendaciones:</span> {patient.medicalInfo.recommendations || 'N/A'}</p>
            <button 
              className="mt-2 bg-blue-500 text-white py-1.5 px-3 rounded hover:bg-blue-600 transition text-sm"
              onClick={() => setIsEditingDischarge(true)}
            >
              {patient.medicalInfo.dischargeDate ? 'Editar Alta' : 'Registrar Alta'}
            </button>
          </div>
        ) : (
          <div className="space-y-3">
            <input type="date" placeholder="Fecha de Salida (Alta)" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={dischargeInfo.dischargeDate} onChange={(e) => handleDischargeChange('dischargeDate', e.target.value)} />
            <input type="text" placeholder="Reposo o Incapacidad" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500" value={dischargeInfo.recoveryTime} onChange={(e) => handleDischargeChange('recoveryTime', e.target.value)} />
            <textarea placeholder="Recomendaciones" className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 resize-none" rows="3" value={dischargeInfo.recommendations} onChange={(e) => handleDischargeChange('recommendations', e.target.value)}></textarea>
            <button 
              className="mt-2 bg-green-500 text-white py-1.5 px-3 rounded hover:bg-green-600 transition text-sm"
              onClick={handleSaveDischarge}
            >
              Guardar Alta
            </button>
            <button 
              className="mt-2 ml-2 bg-gray-300 text-gray-800 py-1.5 px-3 rounded hover:bg-gray-400 transition text-sm"
              onClick={() => setIsEditingDischarge(false)}
            >
              Cancelar
            </button>
          </div>
        )}
      </div>

      {/* Información Familiar */}
      <div className="mb-6 border-t pt-6">
        <h3 className="font-semibold text-xl mb-3 text-gray-700">Información Familiar</h3>
        <div className="space-y-2 text-gray-700">
          {patient.familyInfo.length > 0 ? patient.familyInfo.map((member, index) => (
            <p key={index}><span className="font-medium">{member.name}</span> ({member.relationship}) - {member.phone}</p>
          )) : <p className="text-gray-500">No hay información familiar registrada.</p>}
        </div>
      </div>

      {/* Visitas Registradas */}
      <div className="mt-8 border-t pt-6">
        <h3 className="font-semibold text-xl mb-4 text-gray-700">Visitas Registradas</h3>
        <div className="space-y-4">
          {patient.visits.length > 0 ? patient.visits.map((visit, index) => (
            <div key={index} className="border-l-4 border-blue-500 pl-4 py-3 bg-blue-50 rounded-r-lg">
              <div className="flex justify-between items-center mb-1">
                <h4 className="font-medium text-lg text-blue-800">Visita #{visit.visitNumber} - {visit.visitorName}</h4>
                <span className="text-sm text-gray-600">{visit.date}</span>
              </div>
              <p className="text-gray-700 text-sm mb-1">Grado: {visit.visitorRank} | Dirección: {visit.visitorAddress}</p>
              {visit.companions && visit.companions.length > 0 && (
                <p className="text-gray-700 text-sm mb-1">Acompañantes: {visit.companions.join(', ')}</p>
              )}
              <p className="text-gray-700 text-sm mb-1"><span className="font-medium">Gestiones Realizadas:</span> {visit.actionsTaken || 'N/A'}</p>
              <p className="text-gray-700 text-sm mb-1"><span className="font-medium">Gestiones Pendientes:</span> {visit.actionsPending || 'N/A'}</p>
              <p className="text-gray-700 text-sm">{visit.notes}</p>
              {visit.photos && visit.photos.length > 0 && (
                <div className="mt-2 flex space-x-2">
                  {visit.photos.map((photo, pIndex) => (
                    <img key={pIndex} src={URL.createObjectURL(photo)} alt={`Visita ${visit.visitNumber} Foto ${pIndex + 1}`} className="w-20 h-20 object-cover rounded-md shadow" />
                  ))}
                </div>
              )}
            </div>
          )) : <p className="text-gray-500">No hay visitas registradas para este paciente.</p>}
        </div>

        <VisitForm 
          patientId={patient.id} 
          onSave={(newVisit) => onAddVisit(patient.id, newVisit)} 
          lastVisitNumber={patient.visits.length > 0 ? patient.visits[patient.visits.length - 1].visitNumber : 0}
        />
      </div>
    </div>
  );
};

// DONE

// /App.js
const App = () => {
  const [patients, setPatients] = useState([]);
  const [selectedPatient, setSelectedPatient] = useState(null);
  const [activeTab, setActiveTab] = useState('list');

  useEffect(() => {
    setPatients(getPatients());
  }, []);

  const handleSavePatient = (newPatient) => {
    const updatedPatients = addPatient(newPatient);
    setPatients(updatedPatients);
    setActiveTab('list');
  };

  const handleUpdatePatient = (updatedPatient) => {
    const updatedPatients = updatePatient(updatedPatient);
    setPatients(updatedPatients);
    setSelectedPatient(updatedPatient);
  };

  const handleAddVisit = (patientId, newVisit) => {
    const patient = patients.find(p => p.id === patientId);
    if (patient) {
      const updatedPatient = {
        ...patient,
        visits: [...patient.visits, { ...newVisit, id: patient.visits.length + 1 }] // Asegura ID único para la visita
      };
      handleUpdatePatient(updatedPatient);
    }
  };

  const handleDeletePatient = (patientId) => {
    const updatedPatients = deletePatient(patientId);
    setPatients(updatedPatients);
    setSelectedPatient(null);
    setActiveTab('list');
  };

  return (
    <div className="min-h-screen bg-gray-50">
      <header className="bg-blue-700 text-white p-4 shadow-md flex items-center justify-between">
        <div className="flex items-center">
          {/* Espacio para el logo */}
          {/* Puedes reemplazar este div con una etiqueta <img> si tienes la URL directa del logo */}
          {/* Por ejemplo: <img src="URL_DE_TU_LOGO.png" alt="Logo Bienestar Social" className="w-10 h-10 mr-3" /> */}
          <div className="w-10 h-10 mr-3 bg-white rounded-full flex items-center justify-center">
            <span className="text-blue-700 font-bold text-lg">BS</span>
          </div>
          <div>
            <h1 className="text-2xl font-bold leading-tight">Dirección de Bienestar Social</h1>
            <p className="text-sm opacity-90">Departamento de Seguridad Social</p>
          </div>
        </div>
      </header>

      <Navigation activeTab={activeTab} setActiveTab={setActiveTab} />

      <main className="container mx-auto p-4">
        {activeTab === 'list' && (
          <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <div className="lg:col-span-1">
              <PatientList 
                patients={patients} 
                onSelect={patient => {
                  setSelectedPatient(patient);
                  setActiveTab('detail');
                }} 
              />
            </div>
            {selectedPatient && (
              <div className="lg:col-span-2">
                <PatientDetail 
                  patient={selectedPatient} 
                  onUpdate={handleUpdatePatient}
                  onAddVisit={handleAddVisit}
                />
                <button 
                  className="mt-4 bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700 transition"
                  onClick={() => handleDeletePatient(selectedPatient.id)}
                >
                  Eliminar Paciente
                </button>
              </div>
            )}
          </div>
        )}

        {activeTab === 'new' && (
          <div className="max-w-4xl mx-auto">
            <PatientForm onSave={handleSavePatient} />
          </div>
        )}

        {activeTab === 'reports' && (
          <div className="max-w-4xl mx-auto">
            <ReportsPanel patients={patients} />
          </div>
        )}
      </main>
    </div>
  );
};

// DONE

      const root = createRoot(document.getElementById("root"));
            root.render(
              <StrictMode>
                <App />
              </StrictMode>
            );
</script>
        
    
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyA2yEgiloHREpCpbjPzNXXKFn8Gm0GZqtk",
  authDomain: "bitacora-pacientes-dbs.firebaseapp.com",
  projectId: "bitacora-pacientes-dbs",
  storageBucket: "bitacora-pacientes-dbs.firebasestorage.app",
  messagingSenderId: "609685074499",
  appId: "1:609685074499:web:72a2e1f58971c8ca6f9af6",
  measurementId: "G-6CE9PQ657Q"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);

                    </body></html>
